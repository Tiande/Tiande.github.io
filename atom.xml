<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title><![CDATA[天德池]]></title>
  <subtitle><![CDATA[这里不是洗澡的地方]]></subtitle>
  <link href="/atom.xml" rel="self"/>
  <link href="http://tiandechi.com/"/>
  <updated>2015-04-21T13:00:54.535Z</updated>
  <id>http://tiandechi.com/</id>
  
  <author>
    <name><![CDATA[钢仔]]></name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title><![CDATA[The advantages of Linux compile source code for installing package]]></title>
    <link href="http://tiandechi.com/2015/04/21/The-advantages-of-Linux-compile-source-code-for-installing-package/"/>
    <id>http://tiandechi.com/2015/04/21/The-advantages-of-Linux-compile-source-code-for-installing-package/</id>
    <published>2015-04-21T11:01:33.000Z</published>
    <updated>2015-04-21T13:00:54.535Z</updated>
    <content type="html"><![CDATA[<p>很多人放着最新的源码不用，等着有人帮他做出rpm,deb,才能安装。我说你为什么不用源码编译，这样版本比rpm高的多，有很多新功能，而没有烦人的依赖关系。可是他说：“要是我用源码编译安装，卸载的时候就不方便了，会留下很多垃圾。”<br><a id="more"></a><br>为什么程序还没有安装你就想到卸载？难道你不知道这个程序是用来做什么的？你应该改变到处找程序来试用的作法，而应该先了解一下到底那些程序有同样的功能，听听别人的意见，看看它们各有什么长处和短处，然后挑一个最适合你的程序来用。</p>
<p>从源码编译安装程序，不但比你装rpm更适合自己的机器设置，而且它们一般会装到/usr/local目录，这样你以后如果换硬盘重装系统，也可以把以前/usr/local下的程序原封不动拷贝过去用。我的/usr/local下有2G之多的程序，你想要是我有一台新机器要重新安装，然后配置，得花费多少时间？实际上我曾经通过网络把它们传到一台新机器上，然后就出去吃晚饭，回来时我就得到了另一台一摸一样的Linux机器。</p>
<p>确实要卸载makeinstall的程序怎么办呢？答案是直接删掉。别以为直接删掉程序会留下垃圾，引起“系统不稳定”。(btw:这是谁教你的啊？呵呵。)makeinstall无非就是把可执行程序放在/usr/local/bin,把某些函数库放在/usr/local/lib，把数据文件放在 /usr/local/share下一个它自己的目录，你把这些东西都删掉就行了，不会留下垃圾，即使真的留下一点文件没有删掉也占不了多少空间，更不可能引起系统不稳定。UNIX就是这么简单</p>
<p>但是有几个程序不建议从源码安装，它们是Mozilla,OpenOffice,...它们编译时会占用你几个G的空间和好几个小时的时间，这种花费我觉得是不值得的，因为你不能从编译得到更多好处，不如直接安装编译好的版本。</p>
<p><a href="http://blog.163.com/qiantu1986@126/blog/static/3592266920114172382031/" target="_blank" rel="external">来源</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>很多人放着最新的源码不用，等着有人帮他做出rpm,deb,才能安装。我说你为什么不用源码编译，这样版本比rpm高的多，有很多新功能，而没有烦人的依赖关系。可是他说：“要是我用源码编译安装，卸载的时候就不方便了，会留下很多垃圾。”<br>]]>
    
    </summary>
    
      <category term="advantage" scheme="http://tiandechi.com/tags/advantage/"/>
    
      <category term="compile" scheme="http://tiandechi.com/tags/compile/"/>
    
      <category term="Linux" scheme="http://tiandechi.com/categories/Linux/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[the physical structure and IO process of the disk]]></title>
    <link href="http://tiandechi.com/2015/04/21/the-physical-structure-and-IO-process-of-the-disk/"/>
    <id>http://tiandechi.com/2015/04/21/the-physical-structure-and-IO-process-of-the-disk/</id>
    <published>2015-04-21T10:58:12.000Z</published>
    <updated>2015-04-21T12:59:56.640Z</updated>
    <content type="html"><![CDATA[<p>对于管理磁盘，分磁盘面、磁头、磁道、柱面和扇区。</p>
<pre><code>磁盘面：磁盘是由一叠磁盘面组成，见下左图。
磁头(Heads)：每个磁头对应一个磁盘面，负责该磁盘面上的数据的读写。
磁道(Track)：每个盘面会围绕圆心划分出多个同心圆圈，每个圆圈叫做一个磁道。
柱面(Cylinders)：所有盘片上的同一位置的磁道组成的立体叫做一个柱面。
扇区(Sector)：以磁道为单位管理磁盘仍然太大，所以计算机前辈们又把每个磁道划分出了多个扇区，见下图
![<span class="link_label">HDD physical structure</span>](<span class="link_url">http://ww4.sinaimg.cn/mw690/6e8d8f65gw1erbso6izmoj20ib08cq4d.jpg</span>)
</code></pre><a id="more"></a>
<p>Linux上可以通过fdisk命令，来查看当前系统使用的磁盘的这些物理信息。<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="annotation">@dbserver</span> ~]# fdisk -l</span><br><span class="line">Disk <span class="regexp">/dev/</span><span class="string">sda:</span> <span class="number">1199.6</span> GB, <span class="number">1199638052864</span> bytes</span><br><span class="line"><span class="number">255</span> heads, <span class="number">63</span> sectors/track, <span class="number">145847</span> cylinders</span><br><span class="line">Units = cylinders of <span class="number">16065</span> * <span class="number">512</span> = <span class="number">8225280</span> bytes</span><br><span class="line">Sector size (logical<span class="regexp">/physical): 512 bytes /</span> <span class="number">512</span> bytes</span><br><span class="line">I<span class="regexp">/O size (minimum/</span>optimal): <span class="number">512</span> bytes / <span class="number">512</span> bytes</span><br><span class="line">Disk <span class="string">identifier:</span> <span class="number">0x54ab02ca</span></span><br><span class="line">Device Boot      Start        End      Blocks  Id  System</span><br><span class="line"><span class="regexp">/dev/</span>sda1              <span class="number">1</span>          <span class="number">5</span>      <span class="number">40131</span>  de  Dell Utility</span><br><span class="line">Partition <span class="number">1</span> does not end on cylinder boundary.</span><br><span class="line"><span class="regexp">/dev/</span>sda2  *          <span class="number">6</span>        <span class="number">267</span>    <span class="number">2097152</span>    c  W95 FAT32 (LBA)</span><br><span class="line">......</span><br></pre></td></tr></table></figure></p>
<p>可以看出我的磁盘有255个heads，也就是说共有255个盘面。145847 个cylinders，也就是说每个盘面上都有145847 个磁道， 63sectors/track说的是每个磁道上共有63个扇区。命令结果也给出了Sector size的值是512bytes。那我们动笔算一下该磁盘的大小。<br>255盘面  <em> 145847 柱面 </em> 63扇区 * 每个扇区512bytes =1199632412160 byte=1117.25GB<br>结果是1117.25GB,和磁盘的总大小相符。<br>在如上图可以发现一个错误（标红），是即/dev/sda1的start位置从第 1 扇区个删除开始，如果将第0至62个扇区,即第一磁道（cylinders）单独留给磁盘MBR并从第64个扇区，即第二个磁道（cylinders）开始分区，将会对文件系统的性能会带来很大的提升。</p>
<p>接下来让我们在了解一下磁盘IO时的过程。</p>
<ol>
<li>首先是磁头径向移动来寻找数据所在的磁道。这部分时间叫寻道时间。</li>
<li>找到目标磁道后通过盘面旋转，将目标扇区移动到磁头的正下方。</li>
<li>向目标扇区读取或者写入数据。到此为止，一次磁盘IO完成。</li>
</ol>
<p>故：单次磁盘IO时间 = 寻道时间 + 旋转延迟 + 存取时间。<br>对于旋转延时，现在主流服务器上经常使用的是1W转/分钟的磁盘，每旋转一周所需的时间为60*1000/10000=6ms，故其旋转延迟为（0-6ms）。对于存取时间，一般耗时较短，为零点几ms。对于寻道时间，现代磁盘大概在3-15ms，其中寻道时间大小主要受磁头当前所在位置和目标磁道所在位置相对距离的影响。</p>
<pre><code>操作系统通过按磁道对应的柱面划分分区，来降低磁盘IO所花费的的寻道时间 ，进而提高磁盘的读写性能。
</code></pre><hr>
<p>实际上，上面这段话还是存在问题的，分区对性能的提高几乎为0，我在 V2EX 有讨论： <a href="http://www.v2ex.com/t/184874" target="_blank" rel="external">分区能提高硬盘的读写性能？</a></p>
<p><a href="http://www.linuxidc.com/Linux/2015-04/116419.htm" target="_blank" rel="external">来源</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>对于管理磁盘，分磁盘面、磁头、磁道、柱面和扇区。</p>
<pre><code>磁盘面：磁盘是由一叠磁盘面组成，见下左图。
磁头(Heads)：每个磁头对应一个磁盘面，负责该磁盘面上的数据的读写。
磁道(Track)：每个盘面会围绕圆心划分出多个同心圆圈，每个圆圈叫做一个磁道。
柱面(Cylinders)：所有盘片上的同一位置的磁道组成的立体叫做一个柱面。
扇区(Sector)：以磁道为单位管理磁盘仍然太大，所以计算机前辈们又把每个磁道划分出了多个扇区，见下图
![<span class="link_label">HDD physical structure</span>](<span class="link_url">http://ww4.sinaimg.cn/mw690/6e8d8f65gw1erbso6izmoj20ib08cq4d.jpg</span>)
</code></pre>]]>
    
    </summary>
    
      <category term="Disk" scheme="http://tiandechi.com/tags/Disk/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[VSFTP server configure]]></title>
    <link href="http://tiandechi.com/2015/04/19/VSFTP-server-configure/"/>
    <id>http://tiandechi.com/2015/04/19/VSFTP-server-configure/</id>
    <published>2015-04-19T08:19:25.000Z</published>
    <updated>2015-04-19T09:55:03.170Z</updated>
    <content type="html"><![CDATA[<h1 id="Linux_FTP服务器分类：">Linux FTP服务器分类：</h1><ol>
<li>wu-ftp</li>
<li>proftp=profession ftp</li>
<li>vsftp=very security ftp</li>
</ol>
<p>配置文件：<br>    /etc/vsftpd/vsftpd.conf   //主配置文件</p>
<pre><code>/etc/vsftpd<span class="class">.ftpusers</span>      <span class="comment">//被禁止登录FTP的用户文件</span>

/etc/vsftpd<span class="class">.user_list</span>     <span class="comment">//允许登录FTP的用户文件</span>
</code></pre><h1 id="访问方式">访问方式</h1><ol>
<li>匿名登录</li>
<li>帐号登录</li>
</ol>
<a id="more"></a>
<h1 id="启动FTP服务器：">启动FTP服务器：</h1><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#service vsftpd restart</span><br></pre></td></tr></table></figure>
<h1 id="配置vsftp服务器">配置vsftp服务器</h1><ol>
<li><p>vsftpd.conf各项参数说明：</p>
<pre><code><span class="comment">#vi /etc/vsftpd/vsftpd.conf</span>

<span class="variable">&lt;1&gt;</span>第7行： 控制匿名登录

            anonymous_enable=YES 改成NO

<span class="variable">&lt;2&gt;</span>第10行：允许本地帐号登录

<span class="variable">&lt;3&gt;</span>第13行：控制可写权限

<span class="variable">&lt;4&gt;</span>第17行：控制本地文件的权限掩码

<span class="variable">&lt;5&gt;</span>第22行：控制是否允许匿名上传(与26行同时开启或关闭)

<span class="variable">&lt;6&gt;</span>第26行：控制是否允许匿名写及创建目录的权限

<span class="variable">&lt;7&gt;</span>第33行：控制上传或下载的日志记录

<span class="variable">&lt;8&gt;</span>第46行：控制日志的保存路径

<span class="variable">&lt;9&gt;</span>第52行：设置指令超时的时间，默认为600秒

<span class="variable">&lt;10&gt;</span>第55行：设置数据连接的超时时间，默认为120秒

<span class="variable">&lt;11&gt;</span>第91行：控制登录FTP的用户是否被限制在家目录下;(必须与93行同时开启或关闭)

            chroot_list_enable=YES

<span class="variable">&lt;12&gt;</span>第93行：登录FTP后被限制在家目录下的用户列表文件

            chroot_list_file=/etc/vsftpd.chroot_list

            在/etc目录下新建一个vsftpd.chroot_list文件，内容加入要限制用户的用户名

            没加入限制用户可以访问其目录

<span class="variable">&lt;13&gt;</span>第99行：控制登录FTP后是否允许ls命令

<span class="variable">&lt;14&gt;</span>第102行:启用/etc/vsftpd.user_list文件
</code></pre></li>
<li><p>配置匿名登录</p>
<pre><code><span class="id">#vi</span> /etc/vsftpd/vsftpd<span class="class">.conf</span>

第<span class="number">7</span>行，设置为： (默认值)

anonymous_enable=YES

启动vsftpd服务器：

<span class="id">#service</span> vsftpd restart

<span class="id">#service</span> iptables stop

匿名登录的默认目录：

/var/ftp/pub

打开匿名上传和写权限：

<span class="id">#vi</span> /etc/vsftpd/vsftp<span class="class">.conf</span>

激活第<span class="number">22</span>行

激活第<span class="number">26</span>行

打开默认共享目录的权限

<span class="id">#chmod</span> <span class="number">777</span> /var/ftp/pub

备注：匿名可以上传下载，但不能删除；
</code></pre></li>
<li><p>本地帐号登录</p>
<pre><code>&lt;<span class="number">1</span>&gt;禁用匿名登入

修改配置文件

<span class="id">#vi</span> /etc/vsftpd/vsftpd<span class="class">.conf</span>

禁用所有匿名控制行,如：

   禁用第<span class="number">7</span>行，第<span class="number">22</span>行，第<span class="number">26</span>行；

&lt;<span class="number">2</span>&gt;开放那些用户可以登入和那些用户拒绝登入

<span class="id">#vi</span> /etc/vsftpd/vsftpd<span class="class">.conf</span>

    在<span class="number">102</span>行后，插入如下：

    userlist_deny=NO

       (备注：设置/etc/vsftpd.user_list文件中的用户可登录FTP)

    保存退出

   如果是#userlist_deny=NO 注释掉，则默认全部用户可以登入FTP,当要限某用户不能登入：

    把用户名加入这个文件当中/etc/vsftpd.ftpusers，则这个用户名拒绝登入FTP

     创建用户并加入到相应的控制文件中

      <span class="id">#useradd</span> us1

<span class="id">#useradd</span> us2

      <span class="id">#passwd</span> us1

      <span class="id">#passwd</span> us2

     允许登录到FTP的用户：

      <span class="id">#echo</span> us1&gt;&gt;/etc/vsftpd<span class="class">.user_list</span>

      <span class="id">#echo</span> us2&gt;&gt;/etc/vsftpd<span class="class">.user_list</span>   
</code></pre></li>
</ol>
<h1 id="启动FTP服务器：-1">启动FTP服务器：</h1><pre><code><span class="id">#service</span> vsftpd restart

备注：帐号登录FTP，默认是登录在家目录下；

禁止登录到FTP的用户：

<span class="id">#echo</span> us3&gt;&gt;/etc/vsftpd.ftpusers
</code></pre><h1 id="将登录后的用户限制在本地家目录下：">将登录后的用户限制在本地家目录下：</h1><pre><code><span class="id">#vi</span> /etc/vsftpd/vsftpd<span class="class">.conf</span>

激活第<span class="number">91</span>行及第<span class="number">93</span>行

   chroot_list_enable=YES

   chroot_list_file=/etc/vsftpd<span class="class">.chroot_list</span>


新建受限用户的列表文件并加入受限用户名

<span class="id">#vi</span> /etc/vsftpd<span class="class">.chroot_list</span>

  us2

保存退出

<span class="id">#service</span> vsftpd restart
</code></pre><h1 id="限制匿名上传的速度：">限制匿名上传的速度：</h1><pre><code><span class="id">#vi</span> /etc/vsftpd/vsftpd<span class="class">.conf</span>

:$

anon_max_rate=<span class="number">5000</span> <span class="comment">//默认以字节为单位 5000表示5K速度</span>
</code></pre><h1 id="限制本地帐号的上传速度：">限制本地帐号的上传速度：</h1><pre><code>local_max_rate=<span class="number">5000</span> <span class="comment">//以(字节/秒)为单位</span>
</code></pre><h1 id="针对不同的使用者限制不同的速度(这个速度优先限制所有用户的速度）:">针对不同的使用者限制不同的速度(这个速度优先限制所有用户的速度）:</h1><pre><code><span class="id">#vi</span> /etc/vsftpd/vsftpd<span class="class">.conf</span>   增加下面一行

user_config_dir=/etc/vsftpd/userconf

<span class="id">#mkdir</span> /etc/vsftpd/userconf   创建一个目录

<span class="id">#vi</span> /etc/vsftpd/userconf/user1   （user1是要限制速度的用户名)

local_max_rate=<span class="number">25000</span>
</code></pre><h1 id="定制欢迎信息：">定制欢迎信息：</h1><pre><code><span class="id">#vi</span> /etc/vsftpd/vsftpd<span class="class">.conf</span>

激活<span class="number">80</span>行

ftpd_banner=Welcome to Huayu FTP service.
</code></pre><h1 id="限制服务器连接数和同IP连接数">限制服务器连接数和同IP连接数</h1><ol>
<li>max_clients<br>可使用这个参数定义最大的总联机数。超过这个数目将会拒绝联机，0 表示不限。默认值为0。</li>
<li>max_per_ip<br>使用这个参数定义每个ip address 所可以联机的数目。超过这个数目将会拒绝联机，0 表示不限。默认值为0</li>
</ol>
<h1 id="虚拟FTP用户设置">虚拟FTP用户设置</h1><ol>
<li><p>建立虚拟用户口令库文件</p>
<pre><code><span class="id">#vi</span> /etc/vsftpd/logins<span class="class">.txt</span>

vuser1

<span class="number">123</span>

vuser2

<span class="number">321</span>

:wq

口令库文件中奇数行设置用户名，偶数行设置口令
</code></pre></li>
<li>生成vsftpd的认证文件<pre><code><span class="id">#db_load</span> -T -t hash -f /etc/vsftpd/logins<span class="class">.txt</span> /etc/vsftpd/vsftpd_login<span class="class">.db</span> ##生成认证文件
</code></pre></li>
<li>设置认证文件只对root用户可读可写<pre><code><span class="preprocessor"># chmod 600 /etc/vsftpd/vsftpd_login.db</span>
</code></pre></li>
<li>建立虚拟用户所需的PAM配置文件，手工建立vsftpd.vu文件<pre><code># cat <span class="regexp">/etc/</span>pam.d/vsftpd.vu
auth required <span class="regexp">/lib/</span>security<span class="regexp">/pam_userdb.so db=/</span>etc<span class="regexp">/vsftpd/</span>vsftpd_login
account required <span class="regexp">/lib/</span>security<span class="regexp">/pam_userdb.so db=/</span>etc<span class="regexp">/vsftpd/</span>vsftpd_login
</code></pre></li>
<li>建立所有FTP虚拟用户帐号使用的系统用户帐号，并设置该帐号宿主目录的权限<pre><code><span class="preprocessor"># useradd -d /home -s /sbin/nologin /ftpsite virtual</span>
<span class="preprocessor"># chmod 700 /home/ftpsite</span>
</code></pre></li>
<li><p>设置vsftpd.conf配置文件</p>
<pre><code><span class="comment">#vi /etc/vsftpd/vsftpd.conf</span>

在配置文件中添加虚拟用户的配置内容

<span class="constant">guest_enable</span>=YES

<span class="constant">guest_username</span>=virtual

<span class="constant">pam_service_name</span>=vsftpd.vu（要和刚才建的PAM文件对应）

<span class="constant">user_config_dir</span>=/etc/vsftpd/user_config_dir （指定每个虚拟用户账号配置目录，）
<span class="constant">local_root</span>=/www （这行没有，虚拟用户登入到/ftpsite）
</code></pre></li>
<li><p>配置虚拟用户名的设置</p>
<pre><code><span class="comment">#mkdir -p /etc/vsftpd/user_config_dir （主配置文件对应）</span>
<span class="comment">#mkdir -p /www/vuser1    （创建虚拟用主目录）</span>
<span class="comment">#chmod -R 777 /www/vuser1 （设定权限）</span>

<span class="comment">#touch /etc/vsftpd/user_config_dir/vuser1 (为vuser1权限配置文件)</span>
<span class="comment">#echo "anon_world_readable_only=NO</span>
write_<span class="built_in">enable</span>=YES
anon_upload_<span class="built_in">enable</span>=YES
anon_other_write_<span class="built_in">enable</span>=YES
<span class="built_in">local</span>_root=/www/feixiang
anon_mkdir_write_<span class="built_in">enable</span>=YES<span class="string">" &gt;/etc/vsftpd/user_config_dir/vuser1</span>
</code></pre></li>
<li><p>重新启动vsftpd服务程序</p>
<pre><code><span class="preprocessor"># service vsftpd restart</span>

现在就应该可以用虚拟帐号登陆了.
</code></pre></li>
</ol>
<p><a href="http://www.cnblogs.com/JemBai/archive/2009/02/05/1384413.html" target="_blank" rel="external">Linux VSFTP服务器详细配置</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<h1 id="Linux_FTP服务器分类：">Linux FTP服务器分类：</h1><ol>
<li>wu-ftp</li>
<li>proftp=profession ftp</li>
<li>vsftp=very security ftp</li>
</ol>
<p>配置文件：<br>    /etc/vsftpd/vsftpd.conf   //主配置文件</p>
<pre><code>/etc/vsftpd<span class="class">.ftpusers</span>      <span class="comment">//被禁止登录FTP的用户文件</span>

/etc/vsftpd<span class="class">.user_list</span>     <span class="comment">//允许登录FTP的用户文件</span>
</code></pre><h1 id="访问方式">访问方式</h1><ol>
<li>匿名登录</li>
<li>帐号登录</li>
</ol>]]>
    
    </summary>
    
      <category term="VSFTP" scheme="http://tiandechi.com/tags/VSFTP/"/>
    
      <category term="Linux" scheme="http://tiandechi.com/categories/Linux/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[OpenSSH management:ssh-agent & keychain]]></title>
    <link href="http://tiandechi.com/2015/04/19/OpenSSH-management-ssh-agent-and-keychain/"/>
    <id>http://tiandechi.com/2015/04/19/OpenSSH-management-ssh-agent-and-keychain/</id>
    <published>2015-04-19T08:12:38.000Z</published>
    <updated>2015-04-19T09:27:54.505Z</updated>
    <content type="html"><![CDATA[<h1 id="介绍_ssh-agent">介绍 ssh-agent</h1><p>ssh-agent 是专为既令人愉快又安全的处理 RSA 和 DSA 密钥而设计的特殊程序，它包括在OpenSSH分发内(请参阅 本系列文章的第 1 部分以得到关于 RSA 和 DSA 认证的介绍)。不同于 ssh ， ssh-agent 是个长时间持续运行的守护进程(daemon)，设计它的唯一目的就是对解密的专用密钥进行高速缓存。</p>
<p>ssh 包含的内建支持允许它同 ssh-agent 通信，允许 ssh 不必每次新连接时都提示您要密码才能获取解密的专用密钥。对于 ssh-agent ，您只要使用 ssh-add 把专用密钥添加到 ssh-agent 的高速缓存中。这是个一次性过程;用过 ssh-add 之后， ssh 将从 ssh-agent 获取您的专用密钥，而不会提示要密码短语来烦您了。</p>
<h1 id="使用_ssh-agent">使用 ssh-agent</h1><a id="more"></a>
<p>让我们看一下整个 ssh-agent 密钥高速缓存系统的工作过程。 ssh-agent 启动时，在脱离 shell(外壳程序)并继续在后台运行之前它会输出一些重要的环境变量。以下是 ssh-agent 开始时生成的输出的一些示例：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">% ssh-agent</span><br><span class="line"></span><br><span class="line">SSH_AUTH_SOCK=/tmp/ssh-XX4LkMJS/agent.<span class="number">26916</span>; <span class="built_in">export</span> SSH_AUTH_SOCK;</span><br><span class="line"></span><br><span class="line">SSH_AGENT_PID=<span class="number">26917</span>; <span class="built_in">export</span> SSH_AGENT_PID;</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> Agent pid <span class="number">26917</span>;</span><br></pre></td></tr></table></figure></p>
<p>正如您所看到的，事实上 ssh-agent 的输出是一系列 bash 命令;如果这些命令被执行，则将设置两个环境变量：SSH_AUTH_SOCK 和 SSH_AGENT_PID。内含的 export 命令使这些环境变量对之后运行的任何附加命令都可用。唔， 如果 shell 真对这些行进行计算，这一切才会发生，但是此时它们只是被打印到标准输出(stdout)而已。要使之确定，我们可以象下面这样调用 ssh-agent ：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">eval</span> <span class="string">`ssh-agent`</span></span><br></pre></td></tr></table></figure></p>
<p>这个命令先让 bash 运行 ssh-agent 后对 ssh-agent 的输出进行计算。shell 以这种调用方式(使用反引号，而不是普通的单引号)设置并导出 SSH_AGENT_PID 及 SSH_AUTH_SOCK 变量，使这些变量对于您在登录会话期间启动的所有新进程都可用。</p>
<p>启动 ssh-agent 的最佳方式就是把上面这行添加到您的 ~/.bash_profile 中;这样，在您的登录 shell 中启动的所有程序都将看到环境变量，而且能够定位 ssh-agent ，并在需要的时候向其查询密钥。尤其重要的环境变量是 SSH_AUTH_SOCK;SSH_AUTH_SOCK 包含有 ssh 和 scp 可以用来同 ssh-agent 建立对话的 UNIX 域套接字的路径。</p>
<h1 id="使用_ssh-add">使用 ssh-add</h1><p>但是 ssh-agent 启动时高速缓存当然是空的，里面不会有解密的专用密钥。在我们真能使用 ssh-agent 之前，首先还需要使用 ssh-add 命令把我们的专用密钥添加到 ssh-agent 的高速缓存中。下面的示例中，我使用 ssh-add 把我的 ~/.ssh/identity 专用 RSA 密钥添加到 ssh-agent 的高速缓存中：<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># ssh-add ~<span class="regexp">/.ssh/i</span>dentity</span><br><span class="line"></span><br><span class="line">Need passphrase <span class="keyword">for</span> <span class="regexp">/home/</span>drobbins<span class="regexp">/.ssh/i</span>dentity</span><br><span class="line"></span><br><span class="line">Enter passphrase <span class="keyword">for</span> <span class="regexp">/home/</span>drobbins<span class="regexp">/.ssh/i</span>dentity</span><br><span class="line"></span><br><span class="line">(enter passphrase)</span><br></pre></td></tr></table></figure></p>
<p>正如您所看到的， ssh-add 要我的密码短语来对专用密钥进行解密并存储在 ssh-agent 的高速缓存中以备使用。一旦您已经用 ssh-add 把专用密钥(或多个密钥)添加到 ssh-agent 的高速缓存中， 并在当前的 shell 中(如果您在 ~/.bash_profile 中启动 ssh-agent ，情况应当是这样)定义 SSH_AUTH_SOCK，那么您可以使用 scp 和 ssh 同远程系统建立连接而不必提供密码短语。</p>
<h1 id="ssh-agent_的不足之处">ssh-agent 的不足之处</h1><p>ssh-agent 确实棒，但是其缺省配置还是会留给我们一些小小的不便。让我们来看一下这些不足吧。</p>
<p>首先，~/.bash_profile 中的 eval <code>ssh-agent</code> 使每次登录会话都会启动一个新的 ssh-agent 副本;这不仅仅是有一丁点儿浪费，而且还意味着您得使用 ssh-add 向每个新的 ssh-agent 副本添加专用密钥。如果您只想打开系统上的一个终端或控制台，这没什么大不了的，但是我们中大多数人打开相当多的终端，每次新打开控制台都需要键入密码短语。从技术角度讲，既然一个 ssh-agent 进程的确应当足够了，要是我们还需这样做，这毫无道理。</p>
<p>有关 ssh-agent 的缺省设置的另外一个问题是它同 cron 作业不兼容。由于 cron 作业是 cron 进程启动的，这些作业无法从它们的环境中继承 SSH_AUTH_SOCK 变量，因而也无从知道 ssh-agent 进程正在运行以及如何同它联系。事实证明这个问题也是可以修补的。</p>
<h1 id="开始用到_keychain">开始用到 keychain</h1><p>为了解决这些问题，我编写了一个有用的 ssh-agent 前端，它基于 bash，叫做 keychain 。 keychain 的特别之处在于它允许 每个系统使用一个 ssh-agent 进程，而非每次登录会话。这意味着您只需对每个专用密钥执行一次 ssh-add ，就一次。正如我们稍后将要看到的一样， keychain 甚至有助于优化 ssh-add ，而这只要它试图向那些正在运行的 ssh-agent 添加其高速缓存中没有的专用密钥。</p>
<p>以下对 keychain 如何工作从头到尾浏览一遍。从 ~/.bash_profile 中启动时， keychain 将首先查看 ssh-agent 是否已经在运行了。如果没有，它就启动 ssh-agent 并把重要的 SSH_AUTH_SOCK 和 SSH_AGENT_PID 变量记录在 ~/.ssh-agent 文件中，一方面为了安全而保存，另一方面也是为了以后的使用。这是启动 keychain 的最佳途径;同使用平淡无奇的老式 ssh-agent 一样，我们在 ~/.bash_profile 内部执行必要的配置：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="shebang">#!/bin/bash</span><br><span class="line"></span></span><br><span class="line"><span class="comment">#example ~/.bash_profile file</span></span><br><span class="line"></span><br><span class="line">/usr/bin/keychain ~/.ssh/id_rsa</span><br><span class="line"></span><br><span class="line"><span class="comment">#redirect ~/.ssh-agent output to /dev/null to zap the annoying</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#"Agent PID" message</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span> ~/.ssh-agent &gt; /dev/null</span><br></pre></td></tr></table></figure></p>
<p>正如您所看到的，对于 keychain 我们用 source 命令读入并执行 ~/.ssh-agent 文件，而不是象我们直接使用 ssh-agent 时所做的对输出进行计算。但是，结果是一样的：定义了非常重要的 SSH_AUTH_SOCK，而且正运行 ssh-agent 以备使用。同时，因为 SSH_AUTH_SOCK 被记录在 ~/.ssh-agent 里，只要用 source 命令读入并执行 ~/.ssh-agent 文件，就可以轻易的把我们的 shell 脚本及 cron 作业同 ssh-agent 连接起来。 keychain 本身也利用了这个文件;您应该记住 keychain 启动时，它会查看现有的 ssh-agent 是否正在运行。如果是，则它使用 ~/.ssh-agent 文件来获得适当的 SSH_AUTH_SOCK 设置，这样就使 keychain 能使用现有的代理程序而不必新启动一个。只有在 ~/.ssh-agent 文件无效(指向一个不存在的 ssh-agent )或 ~/.ssh-agent 文件本身不存在时， keychain 才会启动新的 ssh-agent 进程。</p>
<h1 id="安装_keychain">安装 keychain</h1><p>安装 keychain 很容易。首先，直接到 keychain 工程主页下载可用的 keychain 源压缩文档的最新版本。然后，安装如下：<br><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor"># tar xzvf keychain-1.0.tar.gz</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor"># cd keychain-1.0</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor"># install -m0755 keychain /usr/bin</span></span><br></pre></td></tr></table></figure></p>
<p>既然 keychain 在 /usr/bin/ 目录下，就请把它添加到您的 ~/.bash_profile 中，并把您的专用密钥路径作为参数。下面是一个既标准又好的启用 keychain 的 ~/.bash_profile：</p>
<p>启用 keychain 的 ~/.bash_profile 示例<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="shebang">#!/bin/bash</span><br><span class="line"></span></span><br><span class="line"><span class="comment">#on this next line, we start keychain and point it to the private keys that</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#we'd like it to cache</span></span><br><span class="line"></span><br><span class="line">/usr/bin/keychain ~/.ssh/id_rsa ~/.ssh/id_dsa</span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span> ~/.ssh-agent &gt; /dev/null</span><br><span class="line"></span><br><span class="line"><span class="comment">#sourcing ~/.bashrc is a good thing</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure></p>
<h1 id="Keychain_生效">Keychain 生效</h1><p>您一为每次登录时调用 keychain 配置好了 ~/.bash_profile，就请先退出再登录回来。在您再次登录时， keychain 将启动 ssh-agent ，并记录下 ~/.ssh-agent 中的代理程序环境变量设置，然后提示您输入在 ~/.bash_profile 中的 keychain 命令行指定的所有专用密钥的密码短语：</p>
<p>Keychain 首次启动</p>
<p><em>图片丢失</em></p>
<p>您一输入密码短语，您的专用密钥就会被高速缓存，同时 keychain 将退出。接着，用 source 命令读入并执行 ~/.ssh-agent，初始化您的登录会话以便同 ssh-agent 一起使用。现在，如果您退出，然后再登录回来，将发现 keychain 会找到现有的 ssh-agent 进程;在您退出时，它并没有终止。此外， keychain 将验证您指定的专用密钥是否已经在 ssh-agent 的高速缓存中了。如果没有，那么将会提示您输入正确的密码短语，但如果一切进展顺利，则现有 ssh-agent 仍包含有您以前添加的专用密钥;这意味着不会提示您输入密码：</p>
<p>Keychain 找到现有的 ssh-agent</p>
<p><em>图片丢失</em></p>
<p>祝贺您!您刚才已经登录了，应该能够用 ssh 和 scp 连到远程系统;您不必一登录就使用 ssh-add ，而且 ssh 和 scp 也不会提示您输入密码短语。事实上，只要初始的 ssh-agent 进程一直在运行，您就能不提供密码登录并建立 ssh 连接。 ssh-agent 进程持续运行直到机器重新启动也是很有可能的;由于您最可能在 Linux 系统上这样设置，所以也许一连几个月您都不必输入密码短语!欢迎来到安全的、使用 RSA 和 DSA 认证无密码连接的世界。</p>
<p>继续创建几个新的登录会话，您会发现每次 keychain 都会准确无误的“钩住”到同一 ssh-agent 进程。不要忘记您也可以使 cron 作业和脚本“钩住”正在运行的 ssh-agent 进程。要在 shell 脚本和 cron 作业中使用 ssh 或 scp 命令，只要确保先用 source 命令读入并执行 ~/.ssh-agent：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> ~/.ssh-agent</span><br></pre></td></tr></table></figure></p>
<p>然后，随后所有的 ssh 或 scp 命令就能够找到当前正在运行的 ssh-agent ，并且象您在 shell 中一样能建立安全的无密码连接。</p>
<p>＃ Keychain 选项</p>
<p>您启动并运行 keychain 后，一定要键入 keychain --help 以熟悉 keychain 所有的命令行选项。我们要特别看一下这个选项： -clear 选项。</p>
<p>还记得我在第 1 部分里阐释了使用不加密专用密钥是一种危险的做法，因为这种做法允许其它人盗用您的专用密钥不提供密码就可以从所有系统登录到您的远程帐户。唔，尽管 keychain 不易遭到这种滥用(只要您使用加密的专用密钥就行)，但仍存在有可能可以利用的弱点，同 keychain 使得“钩住”长时间持续运行的 ssh-agent 进程如此容易这一事实直接相关。我想，如果闯入者以某种方式能想出我的密码或密码短语，还能登录进入我的本地系统，会发生什么事情呢?如果出于某种原因他们能以我的用户名登录，那么 keychain 就会立刻授权他们访问我的解密的专用密钥，使他们可以轻而易举的访问我的其它帐户。</p>
<p>现在，在继续下面的内容之前，让我们先客观的表述一下安全威胁。如果由于某种原因一些恶意的用户能以我的身份登录， keychain 确实会允许他们访问我的远程帐户。但，尽管如此，这位闯入者要偷到我的加密的专用密钥非常困难，因为它们仍旧在磁盘上保持着加密状态。而且，得到我的专用密钥访问权要求用户真的以我的身份 登录，不单单是阅读我的目录中的文件而已。因此，滥用 ssh-agent 是比只偷到一个不加密的专用密钥困难得多的一项任务，后者只需要闯入者通过某种手段获得我在 ~/.ssh 里的文件的访问权，而不管是否是以我的身份登录。不过，如果闯入者能够成功的以我的身份登录，通过使用我的加密专用密钥他们造成相当多的额外损害。所以，如果您刚好在您不频繁登录或没有对安全缺口进行密切监视的一台服务器上使用 keychain ，那么请您考虑使用 --clear 选项以提供附加的安全层。</p>
<p>--clear 选项允许您让 keychain 假定把每次以您的帐户的新登录都当作是可能的安全缺口，直到能证明并非如此。当您启动 keychain 时使用了 --clear 选项时，您登录的时候 keychain 会立即刷新 ssh-agent 的高速缓存里的所有专用密钥，此后才执行它的常规职责。这样，如果您是一位闯入者，则 keychain 会提示您输入密码短语而不会让您访问现有的高速缓存中的密钥集合。但是，虽然这样增强了安全性，却使情况有点更不方便，尤其好象完全是 ssh-agent 在运行，而 keychain 并没有运行。此处，情况常常是这样，一个人可以选择或者安全性更高，或更方便，但不能两者兼得。</p>
<p>尽管如此，使用带有 --clear 的 keychain 仍然比只用 ssh-agent 要好;请记住，当您使用 keychain --clear 时，您的 cron 作业和脚本仍然能建立无密码连接;这是因为专用密钥是在 登录时刷新，而不是在 退出时。由于从系统退出不会构成潜在的安全缺口，因而没有理由要 keychain 来刷新 ssh-agent 的密钥作为响应。因此，对于不频繁访问又需要偶而执行安全拷贝任务的服务器而言，比如，备份服务器、防火墙及路由器， --clear 选项是一个理想的选择。</p>
<p><a href="http://sec.chinabyte.com/459/8607459.shtml" target="_blank" rel="external">来源</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<h1 id="介绍_ssh-agent">介绍 ssh-agent</h1><p>ssh-agent 是专为既令人愉快又安全的处理 RSA 和 DSA 密钥而设计的特殊程序，它包括在OpenSSH分发内(请参阅 本系列文章的第 1 部分以得到关于 RSA 和 DSA 认证的介绍)。不同于 ssh ， ssh-agent 是个长时间持续运行的守护进程(daemon)，设计它的唯一目的就是对解密的专用密钥进行高速缓存。</p>
<p>ssh 包含的内建支持允许它同 ssh-agent 通信，允许 ssh 不必每次新连接时都提示您要密码才能获取解密的专用密钥。对于 ssh-agent ，您只要使用 ssh-add 把专用密钥添加到 ssh-agent 的高速缓存中。这是个一次性过程;用过 ssh-add 之后， ssh 将从 ssh-agent 获取您的专用密钥，而不会提示要密码短语来烦您了。</p>
<h1 id="使用_ssh-agent">使用 ssh-agent</h1>]]>
    
    </summary>
    
      <category term="SSH" scheme="http://tiandechi.com/tags/SSH/"/>
    
      <category term="keychain" scheme="http://tiandechi.com/tags/keychain/"/>
    
      <category term="ssh-agent" scheme="http://tiandechi.com/tags/ssh-agent/"/>
    
      <category term="Linux" scheme="http://tiandechi.com/categories/Linux/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[about Chrome]]></title>
    <link href="http://tiandechi.com/2015/04/18/about-Chrome/"/>
    <id>http://tiandechi.com/2015/04/18/about-Chrome/</id>
    <published>2015-04-18T15:57:31.000Z</published>
    <updated>2015-04-18T16:00:11.550Z</updated>
    <content type="html"><![CDATA[<ol>
<li>离线版 Chrome下载方法<br> <a href="http://dl.google.com/chrome/install/[版本号后两位]/chrome_installer.exe" target="_blank" rel="external">http://dl.google.com/chrome/install/[版本号后两位]/chrome_installer.exe</a><br> 要想下载离线版 Chrome，必须知道你要下载的版本号，取版本号第二个小数点后的数字串。如 Version 27.0.1453.94 m 的下载地址就是：<br> <a href="http://dl.google.com/chrome/install/1453.94/chrome_installer.exe" target="_blank" rel="external">http://dl.google.com/chrome/install/1453.94/chrome_installer.exe</a><br> 注：离线版 Chrome 可能不会自动更新。</li>
<li>Chrome 版本号规则<br> Google Chrome 版本号的命名规则，拿最新的 Chrome 27.0.1453.94 为例，这个版本号可以分成 3 部分：<br> 27.0 —— 这是主版本号。<br> .1453 —— 这是一个版本代码，通常它的变化意味着有新的功能的加入。<br> .94 —— 这是用于修补漏洞和稳定性调整更新时候用到的数字。通常没有新功能加入的时候这个数字会实时更新。</li>
</ol>
<p><a href="http://m.baidu.com/from=844b/bd_page_type=1/ssid=0/uid=0/pu=usm%400%2Csz%401320_2001%2Cta%40iphone_1_4.3_3_533/baiduid=23B649E6AA04C1D3B1BFCE13CE554FCE/w=0_10_chromium+he+chrome/t=iphone/l=3/tc?ref=www_iphone&amp;lid=6928532657601785428&amp;order=2&amp;vit=osres&amp;tj=www_normal_2_0_10_title&amp;m=8&amp;srd=1&amp;cltj=cloud_title&amp;dict=32&amp;fm=wnor&amp;sec=409&amp;di=19550545459566e7&amp;bdenc=1&amp;nsrc=IlPT2AEptyoA_yixCFOxXnANedT62v3IJRi0LTYK0Dua7JuVePzkJxEsRDD8QnSLGlD9eW3EhQJSaDL9QjEz7qO" target="_blank" rel="external">来源</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<ol>
<li>离线版 Chrome下载方法<br> <a href="http://dl.google.com/chrome/install/[版本号后两位]/chrome_installer.exe" target="_blank" rel="external">http:]]>
    </summary>
    
      <category term="Chrome" scheme="http://tiandechi.com/tags/Chrome/"/>
    
      <category term="Browser" scheme="http://tiandechi.com/categories/Browser/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[aptitude concise manual]]></title>
    <link href="http://tiandechi.com/2015/04/18/aptitude-concise-manual/"/>
    <id>http://tiandechi.com/2015/04/18/aptitude-concise-manual/</id>
    <published>2015-04-18T15:56:43.000Z</published>
    <updated>2015-04-19T03:43:31.680Z</updated>
    <content type="html"><![CDATA[<p><a href="http://man.ddvip.com/linux/debian/aptitude/index.html" target="_blank" rel="external">aptitude简明手册</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<p><a href="http://man.ddvip.com/linux/debian/aptitude/index.html" target="_blank" rel="external">aptitude简明手册</a></p>
]]>
    </summary>
    
      <category term="Aptitude" scheme="http://tiandechi.com/tags/Aptitude/"/>
    
      <category term="Linux" scheme="http://tiandechi.com/categories/Linux/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[check Linux Kernel and Distrabution version]]></title>
    <link href="http://tiandechi.com/2015/04/18/check-Linux-Kernel-and-Distrabution-version/"/>
    <id>http://tiandechi.com/2015/04/18/check-Linux-Kernel-and-Distrabution-version/</id>
    <published>2015-04-18T15:55:19.000Z</published>
    <updated>2015-04-18T15:56:25.505Z</updated>
    <content type="html"><![CDATA[<h1 id="查看发行版本：">查看发行版本：</h1><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat <span class="regexp">/etc/i</span>ssue</span><br></pre></td></tr></table></figure>
<h1 id="查看内核版本：">查看内核版本：</h1><figure class="highlight nimrod"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /<span class="keyword">proc</span>/version</span><br></pre></td></tr></table></figure>
<p><a href="http://blog.sina.com.cn/s/blog_66ad86a301015yzr.html" target="_blank" rel="external">来源</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<h1 id="查看发行版本：">查看发行版本：</h1><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><]]>
    </summary>
    
      <category term="Distrabution" scheme="http://tiandechi.com/tags/Distrabution/"/>
    
      <category term="Kernel" scheme="http://tiandechi.com/tags/Kernel/"/>
    
      <category term="Linux" scheme="http://tiandechi.com/categories/Linux/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[The role and content of the Linux Directory]]></title>
    <link href="http://tiandechi.com/2015/04/18/The-role-and-content-of-the-Linux-Directory/"/>
    <id>http://tiandechi.com/2015/04/18/The-role-and-content-of-the-Linux-Directory/</id>
    <published>2015-04-18T15:52:12.000Z</published>
    <updated>2015-04-21T10:37:19.985Z</updated>
    <content type="html"><![CDATA[<h1 id="根目录“/”">根目录“/”</h1><p>根目录位于目录结构的最顶层，用斜线（/）表示，类似于Windows操作系统的“C:\“，包含Fedora操作系统中所有的目录和文件。</p>
<h1 id="/bin">/bin</h1><p>/bin<br>目录又称为二进制目录，包含了那些供系统管理员和普通用户使用的重要linux命令的二进制映像。该目录存放的内容包括各种可执行文件，还有某些可执行文件的符号连接。常用的命令有：cp、dmesg、kill、login、rm、ping、chomd、bash、cat、echo、ls、 mail、vi等。</p>
<h1 id="/boot">/boot</h1><p>/boot<br>目录存放系统核心文件以及启动时必须读取的文件，包括Linux内核的二进制映像。</p>
<h1 id="/dev">/dev</h1><p>/dev<br>目录保存着外部设备代码的文件，这些文件比较特殊，实际上它们都指向所代表的外围设备，如终端、磁盘驱动器、光驱、打印机等。你可以访问这些外部设备，与访问一个文件或一个目录没有区别。如该目录下的子目录/dev/cdrom表示光驱目录；子目录/dev/console表示控制台；子目录 /dev/fd表示软驱；子目录/dev/hd表示硬盘上的一个分区；lp0表示打印机；ttyS0表示系统的串口设备；dsp表示系统的音箱设备。例如在系统中键入“cd /dev/cdrom”，就可以看到光驱中的文件；键入“cd /dev/mouse”即可看鼠标的相关文件。<br><a id="more"></a></p>
<h1 id="/cdrom">/cdrom</h1><p>该目录在刚安装系统时是空的，你可以将光驱文件系统挂在这个目录下， 例如“mount /dev/cdrom /cdrom”。</p>
<h1 id="/etc">/etc</h1><p>/etc<br>目录是整个Linux系统的中心，其中包含所有系统管理和维护方面的配置文件，如dhcpd.conf、host.conf、logrotate.conf、man.config、mke2fs.conf、modprobe.conf、resolv.conf、sysctl.conf、syslog.conf（或rsyslog.conf）、xinetd.conf和yum.conf等，其他的配置文件分别位于单独的子目录中。通常应注意备份这个目录中的重要配置文件，以便需要是能够快速的恢复系统。用于存放系统的配置文件和特定主机的相关文件。例如，记录用户帐号名称的 password 文件、投影密码的 shadow 文件等。该目录不包含任何二进制文件，并且该目录下的所有文件主要由管理员使用，普通用户只对其具有阅读权限。该目录还包含一些网络配置文件、文件系统、 x系统配置文件、设备配置信息、设置用户信息等。<br>/etc/cron.d<br>用于存储cron进程调度运行后台进程所用的配置和控制文件。其他目录包括/etc/crontab文件定义的cron.hourly、cron.daily、cron.weekly和cron.monthly等四个目录。<br>/etc/cups 用于存储通用UNIX打印系统（Commom UNIX Printing System，CUPS）使用的各种配置文件。<br>/etc/default 其中的文件用于提供部分工具软件（如useradd程序）使用的变量及其默认值。<br>/etc/httpd<br>Apache配置文件的根目录。Apache是一个通用的、高性能的HTTP服务器，也是世界上最流行的Web服务器。Apache采用模块化的设计方式，支持运行时的动态模块选择、虚拟主机，以及服务进程数量的动态调整等。<br>/etc/init.d 用于存储进入相应运行级时需要由init调度执行的脚本文件。在Fedora<br>Linux系统中，这只是一个符号链接文件，实际的目录应为/etc/rc.d/init.d。<br>/etc/ipsec.d 用于存储IPSee使用的配置文件等。<br>/etc/kde 其中含有部分KDE初始化文件和KDM配置文件。<br>/etc/pki 用于存储各种密匙，如用于安装软件包的密匙等。<br>/etc/ppp 用于存储PPP的脚本和配置文件。<br>/etc/profile.d 用于存储/etc/profile等使用的辅助初始化文件，如lang.sh脚本文件等。<br>/etc/rc.d 用于存储进入相应运行级是由init进程调度执行的脚本文件。其中含有init.d和rcN.d等子目录（其中的N为0、1、2、3、4、5和6，表示系统的运行级）。<br>/etc/samba Samba配置文件的根目录。Samba是一个网络共享软件的总称，Linux系统中实现的SMB协议，允许Linux系统为Windows系统提供文件和打印共享服务。<br>/etc/security 用户存储的基本安全控制文件，包括注册控制文件、控制访问控制文件，以及资源限制控制文件等。<br>/etc/selinux SElinux(Security Enhanced Linux，由美国国家安全部(National Security Agency)领导开发的GPL项目，它拥有一个灵活而强制性的访问控制结构，旨在提高Linux系统的安全性，提供强健的安全保证，可防御未知攻击，据称相当于B1级的军事安全性能。比MS<br>NT所谓的C2等高得多。应用SELinux后，可以减轻恶意攻击或恶意软件带来的灾难，并提供对机密性和完整性有很高要求的信息很高的安全保障。)配置文件的根目录。<br>/etc/skel 其中存有默认的初始化文件，如.bash_logout、.bash_profile、.bashrc、.emacs、.kde和.zshrc等。每当新增一个新用户时，系统将会把其中的部分初始化文件复制到用户的主目录中。注意：上述文件均为隐藏文件。(即以“.“开头的文件名)<br>/etc/ssh 这个目录含有系统配置过程，以及系统引导过程中需要用到的各种配置文件，也是chkconfig维护的各种后台服务进程配置文件的根目录。例如，其中的clock文件包含系统的时区设置，keyboard文件包含键盘的类型定义，init文件包含系统引导过程使用的参数定义等。<br>/etc/tomcat5 tomcat的根目录<br>/etc/vsftpd 包含FTP服务器的配置文件，其中包括vsftpd.conf、ftpusers和user_list等重要文件。<br>/etc/xinetd.d 其中包含xinetd服务进程控制的所有传统网络服务使用的配置文件，尤其包含telnet等网络应用的配置文件。在Linux系统中，原有的inetd已由功能更强的xinetd服务进程取代，原有的inetd.conf配置文件也由xinetd.d目录中的一系列单独的配置文件取代。<br>/etc/yum 其中包含yum软件更新工具使用的配置文件。<br>/etc/yum.repos.d其中包含每个软件仓库的配置文件。</p>
<h1 id="/lib">/lib</h1><p>/lib<br>目录下存放必要的运行库，主要是编程语言的库。典型的 Linux 操作系统中包含了C、C++和 Fortran 的库文件。用这些语言开发的应用程序可以使用这些编程语言库文件。这使软件开发者能够利用那些预先写好并通过测试的函数。库文件包含了标准的C库/lib/libc.so.，数学库libm.so.，共享的动态链接库/lib/ld/so以及目录/bin和/sbin下用到的其他共享库。/lib/modules目录存放系统的核心模块，某些可被模块化的部分并不需要在编译系统核心时放入核心本体，避免本体过于庞大而导致效率降低。</p>
<h1 id="/lost+found">/lost+found</h1><p>该目录存放所有和其它目录都没有关联的文件。系统出现错误或发生问题时，Fedora会自动扫描磁盘驱动器，修正错误，如果找到遗失或错误的片段，将这些片段转化成文件存放于此，等待管理员的进一步处理。</p>
<h1 id="/mnt">/mnt</h1><p>该目录是默认的文件系统临时装载点，这是一个通用的安装点，可以临时安装任何文件系统或远程资源。系统管理员执行 mount<br>命令完成装载工作。在系统中，该目录包含了光驱、磁盘和软驱的挂载点。</p>
<h1 id="/proc">/proc</h1><p>进程文件系统proc的根目录，其中的部分文件分别对应正在运行的进程，可用于访问当前进程的地址空间。它是一个非常特殊的虚拟文件系统，其中并不包含“实际的”文件，而是可用以引用当前运行系统的系统信息，如CPU、内存、运行时间、软件配置以及硬件配置的信息，这些信息是在内存中由系统自己产生的。<br>/proc/net 其中的文件分别表示各种网络协议（如TCP、UDP以及ARP等）的状态与统计信息。<br>/proc/sys 这个目录不仅存有各种系统信息，而且也包含系统内核与TCP/IP网络的可调参数。其中的kernel子目录含有共享内存和消息队列的可调参数，net子目录中含有TCP/IP的各种可调参数。例如，shmmax文件中含有系统的最大共享内存定义，如果使用“echo somevalue &gt;<br>/proc/sys/kernel/shmmax”命令，可以直接修改运行系统的内核参数，而无需重新引导系统。这一做法要谨慎，有的文件可能包含多个数值，或不同类型的数值，因此，在修改以前一定要弄清参数的意义和实际的数值。为了在每次启动系统时都能使用定制的系统可调参数，可以设置sysctl.conf配置文件，或编写自己的Shell启动脚本。</p>
<h1 id="/opt">/opt</h1><p>/opt<br>目录用来安装附加软件包，用户调用软件包程序放在目录/opt/package_name/bin下，package_name是安装软件包的名称。</p>
<h1 id="/root">/root</h1><p>超级用户root的主目录（在Linux系统中，斜杠字符“/”是整个系统的根目录，而非超级用户的主目录。）</p>
<h1 id="/sbin">/sbin</h1><p>目录/sbin、/usr/sbin和/usr/local/sbin存放了该目录启动系统时需执行的程序，如管理工具、应用软件和通用的根用户权限命令等内容。如包含getty、init、update</p>
<p><a href="http://www.linuxidc.com/Linux/2015-04/116032.htm" target="_blank" rel="external">来源</a></p>
<table bgcolor="lightyellow" border="1" cellpadding="3" cellspacing="0" width="95%"><br><tbody><tr align="center" bgcolor="#182448"><td width="80"><font color="#FFFFFF">目录</font></td><td><font color="#FFFFFF">应放置文件内容</font></td></tr><br><tr><td>/bin</td><td><br>    系统有很多放置执行文件的目录，但/bin比较特殊。因为<span class="text_import2">/bin放置的是在单人维护模式下还能够被操作的指令。</span><br>    在/bin底下的指令可以被root与一般账号所使用，主要有：cat, chmod, chown, date, mv, mkdir, cp, bash等等常用的指令。</td></tr><br><tr><td>/boot</td><td><br>    这个目录主要在放置开机会使用到的文件，包括Linux核心文件以及开机选单与开机所需配置文件等等。<br>    <span class="text_import2">Linux kernel常用的档名为：vmlinuz</span>，如果使用的是grub这个开机管理程序，<br>    则还会存在/boot/grub/这个目录喔！</td></tr><br><tr><td>/dev</td><td><br>    在Linux系统上，任何装置与接口设备都是以文件的型态存在于这个目录当中的。<br>    你只要透过存取这个目录底下的某个文件，就等于存取某个装置啰～<br>    比要重要的文件有<span class="text_import2">/dev/null, /dev/zero, /dev/tty</span>, /dev/lp<em>, /dev/hd</em>, /dev/sd<em>等等</em></td></tr><br><tr><td>/etc</td><td><br>    系统主要的配置文件几乎都放置在这个目录内，例如人员的账号密码文件、<br>    各种服务的启始档等等。一般来说，这个目录下的各文件属性是可以让一般使用者查阅的，<br>    但是只有root有权力修改。<span class="text_import2">FHS建议不要放置可执行文件(binary)在这个目录中</span>喔。比较重要的文件有：<br>    <span class="text_import2">/etc/inittab, /etc/init.d/, /etc/modprobe.conf,<br>    /etc/X11/, /etc/fstab, /etc/sysconfig/</span> 等等。另外，其下重要的目录有：<br>    <ul><li><span class="text_import2">/etc/init.d/</span>：所有服务的预设启动 script<br>        都是放在这里的，例如要启动或者关闭 iptables 的话：『 /etc/init.d/iptables start』、『/etc/init.d/iptables<br>        stop』</li><br>    <li><span class="text_import2">/etc/xinetd.d/</span>：这就是所谓的super daemon管理的各项服务的配置文件目录。</li><br>    <li><span class="text_import2">/etc/X11/</span>：与 X Window 有关的各种配置文件都在这里，尤其是<br>        xorg.conf 这个 X Server 的配置文件。</li></ul></td></tr><br><tr><td>/home</td><td><br>    这是系统默认的用户家目录(home directory)。在你新增一个一般使用者账号时，<br>    默认的用户家目录都会规范到这里来。比较重要的是，家目录有两种代号喔：<br><br>    <span class="text_import2">~</span>：代表目前这个用户的家目录，而 <br><br>    <span class="text_import2">~dmtsai</span> ：则代表 dmtsai 的家目录！</td></tr><br><tr><td>/lib</td><td><br>    系统的函式库非常的多，而<span class="text_import2">/lib放置的则是在开机时会用到的函式库，<br>    以及在/bin或/sbin底下的指令会呼叫的函式库而已</span>。<br>    什么是函式库呢？妳可以将他想成是『外挂』，某些指令必须要有这些『外挂』才能够顺利完成程序的执行之意。<br>    尤其重要的是<span class="text_import2">/lib/modules/</span>这个目录，<br>    因为该目录会放置核心相关的模块(驱动程序)喔！</td></tr><br><tr><td>/media</td><td><br>    media是『媒体』的英文，顾名思义，这个<span class="text_import2">/media底下放置的就是可移除的装置啦！</span><br>    包括软盘、光盘、DVD等等装置都暂时挂载于此。常见的档名有：/media/floppy, /media/cdrom等等。</td></tr><br><tr><td>/mnt</td><td><br>    如果妳想要暂时挂载某些额外的装置，一般建议妳可以放置到这个目录中。<br>    在古早时候，这个目录的用途与/media相同啦！只是有了/media之后，这个目录就用来暂时挂载用了。</td></tr><br><tr><td>/opt</td><td><br>    这个是<span class="text_import2">给第三方协力软件放置的目录</span>。什么是第三方协力软件啊？<br>    举例来说，KDE这个桌面管理系统是一个独立的计划，不过他可以安装到Linux系统中，因此KDE的软件就建议放置到此目录下了。<br>    另外，如果妳想要自行安装额外的软件(非原本的distribution提供的)，那么也能够将你的软件安装到这里来。<br>    不过，以前的Linux系统中，我们还是习惯放置在/usr/local目录下呢！</td></tr><br><tr><td>/root</td><td><br>    系统管理员(root)的家目录。之所以放在这里，是因为如果进入单人维护模式而仅挂载根目录时，<br>    该目录就能够拥有root的家目录，所以我们会希望root的家目录与根目录放置在同一个分割槽中。</td></tr><br><tr><td>/sbin</td><td><br>    Linux有非常多指令是用来设定系统环境的，这些指令只有root才能够利用来『设定』系统，其他用户最多只能用来『查询』而已。<br>    <span class="text_import2">放在/sbin底下的为开机过程中所需要的，里面包括了开机、修复、还原系统所需要的指令。</span><br>    至于某些服务器软件程序，一般则放置到/usr/sbin/当中。至于本机自行安装的软件所产生的系统执行文件(system binary)，<br>    则放置到/usr/local/sbin/当中了。常见的指令包括：fdisk, fsck, ifconfig, init, mkfs等等。</td></tr><br><tr><td>/srv</td><td><br>    srv可以视为『service』的缩写，是一些网络服务启动之后，这些服务所需要取用的数据目录。<br>    常见的服务例如WWW, FTP等等。举例来说，WWW服务器需要的网页数据就可以放置在/srv/www/里面。</td></tr><br><tr><td>/tmp</td><td><br>    这是让一般使用者或者是正在执行的程序暂时放置文件的地方。<br>    这个目录是任何人都能够存取的，所以你需要定期的清理一下。当然，重要数据不可放置在此目录啊！<br>    因为FHS甚至建议在开机时，应该要将/tmp下的数据都删除唷！</td></tr><br><tr><td>/lost+found</td><td><br>    这个目录是使用标准的ext2/ext3文件系统格式才会产生的一个目录，目的在于当文件系统发生错误时，<br>    将一些遗失的片段放置到这个目录下。这个目录通常会在分割槽的最顶层存在，<br>    例如你加装一颗硬盘于/disk中，那在这个系统下就会自动产生一个这样的目录『/disk/lost+found』</td></tr><br><tr><td>/proc</td><td><br>    这个目录本身是一个『虚拟文件系统(virtual filesystem)』喔！他放置的数据都是在内存当中，<br>    例如系统核心、行程信息(process)、周边装置的状态及网络状态等等。因为这个目录下的数据都是在内存当中，<br>    所以本身不占任何硬盘空间啊！比较重要的文件例如：<span class="text_import2">/proc/cpuinfo,<br>    /proc/dma, /proc/interrupts, /proc/ioports, /proc/net/</span> 等等。</td></tr><br><tr><td>/sys</td><td><br>    这个目录其实跟/proc非常类似，也是一个虚拟的文件系统，主要也是记录与核心相关的信息。<br>    包括目前已加载的核心模块与核心侦测到的硬件装置信息等等。这个目录同样不占硬盘容量喔！</td></tr><br></tbody><br></table>

<p><a href="http://vbird.dic.ksu.edu.tw/linux_basic/0210filepermission_3.php" target="_blank" rel="external">来源</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<h1 id="根目录“/”">根目录“/”</h1><p>根目录位于目录结构的最顶层，用斜线（/）表示，类似于Windows操作系统的“C:\“，包含Fedora操作系统中所有的目录和文件。</p>
<h1 id="/bin">/bin</h1><p>/bin<br>目录又称为二进制目录，包含了那些供系统管理员和普通用户使用的重要linux命令的二进制映像。该目录存放的内容包括各种可执行文件，还有某些可执行文件的符号连接。常用的命令有：cp、dmesg、kill、login、rm、ping、chomd、bash、cat、echo、ls、 mail、vi等。</p>
<h1 id="/boot">/boot</h1><p>/boot<br>目录存放系统核心文件以及启动时必须读取的文件，包括Linux内核的二进制映像。</p>
<h1 id="/dev">/dev</h1><p>/dev<br>目录保存着外部设备代码的文件，这些文件比较特殊，实际上它们都指向所代表的外围设备，如终端、磁盘驱动器、光驱、打印机等。你可以访问这些外部设备，与访问一个文件或一个目录没有区别。如该目录下的子目录/dev/cdrom表示光驱目录；子目录/dev/console表示控制台；子目录 /dev/fd表示软驱；子目录/dev/hd表示硬盘上的一个分区；lp0表示打印机；ttyS0表示系统的串口设备；dsp表示系统的音箱设备。例如在系统中键入“cd /dev/cdrom”，就可以看到光驱中的文件；键入“cd /dev/mouse”即可看鼠标的相关文件。<br>]]>
    
    </summary>
    
      <category term="Directory" scheme="http://tiandechi.com/tags/Directory/"/>
    
      <category term="Linux" scheme="http://tiandechi.com/categories/Linux/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[ssh add command]]></title>
    <link href="http://tiandechi.com/2015/04/18/ssh-add-command/"/>
    <id>http://tiandechi.com/2015/04/18/ssh-add-command/</id>
    <published>2015-04-18T15:49:56.000Z</published>
    <updated>2015-04-18T15:52:23.290Z</updated>
    <content type="html"><![CDATA[<h1 id="功能作用">功能作用</h1><p>把专用密钥添加到 ssh-agent 的高速缓存中</p>
<h1 id="位置">位置</h1><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/bin/ssh-<span class="keyword">add</span></span><br></pre></td></tr></table></figure>
<h1 id="格式用法">格式用法</h1><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ssh-<span class="built_in">add</span> [-cDdLlXx] [-t life] [<span class="built_in">file</span> ...]</span><br><span class="line">ssh-<span class="built_in">add</span> -s pkcs11</span><br><span class="line">ssh-<span class="built_in">add</span> -e pkcs11</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h1 id="主要参数">主要参数</h1><figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">-<span class="ruby">c     <span class="constant">Indicates</span> that added identities should be subject to confirmation</span><br><span class="line"></span>before being used for authentication.  Confirmation is performed</span><br><span class="line">by the SSH_ASKPASS program mentioned below.  Successful confirma‐</span><br><span class="line">tion is signaled by a zero exit status from the SSH_ASKPASS pro‐</span><br><span class="line">gram, rather than text entered into the requester.</span><br><span class="line">-<span class="ruby"><span class="constant">D</span>    删除ssh-agent中的所有密钥.</span><br><span class="line"></span>-<span class="ruby">d    从ssh-agent中的删除密钥</span><br><span class="line"></span>-<span class="ruby">e    pkcs11 <span class="comment">#删除PKCS#11共享库pkcs1提供的钥匙。</span></span><br><span class="line"></span>-<span class="ruby">s    pkcs11 <span class="comment">#添加PKCS#11共享库pkcs1提供的钥匙。</span></span><br><span class="line"></span>-<span class="ruby"><span class="constant">L</span>    显示ssh-agent中的公钥</span><br><span class="line"></span>-<span class="ruby">l    显示ssh-agent中的密钥</span><br><span class="line"></span>-<span class="ruby">t    life <span class="comment">#对加载的密钥设置超时时间，超时ssh-agent将自动卸载密钥</span></span><br><span class="line"></span>-<span class="ruby"><span class="constant">X</span>    对ssh-agent进行解锁</span><br><span class="line"></span>-<span class="ruby">x    对ssh-agent进行加锁</span></span><br></pre></td></tr></table></figure>
<h1 id="应用实例">应用实例</h1><ol>
<li><p>把专用密钥添加到 ssh-agent 的高速缓存中</p>
 <figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-<span class="keyword">add</span> ~/.ssh/id_dsa</span><br></pre></td></tr></table></figure>
</li>
<li><p>从ssh-agent中删除密钥</p>
<figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-<span class="keyword">add</span> -d ~/.ssh/id_xxx.pub</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看ssh-agent中的密钥</p>
<figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-<span class="keyword">add</span> -l</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><a href="http://www.lampblog.net/ubuntu/ssh-add%E5%91%BD%E4%BB%A4/" target="_blank" rel="external">ssh-add命令</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<h1 id="功能作用">功能作用</h1><p>把专用密钥添加到 ssh-agent 的高速缓存中</p>
<h1 id="位置">位置</h1><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/bin/ssh-<span class="keyword">add</span></span><br></pre></td></tr></table></figure>
<h1 id="格式用法">格式用法</h1><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ssh-<span class="built_in">add</span> [-cDdLlXx] [-t life] [<span class="built_in">file</span> ...]</span><br><span class="line">ssh-<span class="built_in">add</span> -s pkcs11</span><br><span class="line">ssh-<span class="built_in">add</span> -e pkcs11</span><br></pre></td></tr></table></figure>]]>
    
    </summary>
    
      <category term="SSH" scheme="http://tiandechi.com/tags/SSH/"/>
    
      <category term="Linux" scheme="http://tiandechi.com/categories/Linux/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Git SSH key Generate]]></title>
    <link href="http://tiandechi.com/2015/04/18/Git-SSH-key-Generate/"/>
    <id>http://tiandechi.com/2015/04/18/Git-SSH-key-Generate/</id>
    <published>2015-04-18T15:46:45.000Z</published>
    <updated>2015-04-18T16:07:37.970Z</updated>
    <content type="html"><![CDATA[<p>Git是分布式的代码管理工具，远程的代码管理是基于SSH的，所以要使用远程的Git则需要SSH的配置。</p>
<h1 id="设置Git的user_name和email：">设置Git的user name和email：</h1><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user<span class="class">.name</span> <span class="string">"my"</span></span><br><span class="line">$ git config --global user<span class="class">.email</span> <span class="string">"my@email.address"</span></span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h1 id="生成SSH密钥过程：">生成SSH密钥过程：</h1><ol>
<li><p>查看是否已经有了ssh密钥：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/.ssh</span><br></pre></td></tr></table></figure>
<p>如果没有密钥则不会有此文件夹，有则备份删除</p>
</li>
<li><p>生成密钥：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -C “my<span class="annotation">@email</span>.address”</span><br><span class="line">#会有三个提示： 指定存放位置 密钥 确认密钥</span><br><span class="line">#均按回车键就可以跳过，并以默认保存啦</span><br><span class="line">#结果是：</span><br><span class="line">Your identification has been saved <span class="keyword">in</span> <span class="regexp">/home/</span>tekkub<span class="regexp">/.ssh/</span>id_rsa.</span><br><span class="line">Your <span class="keyword">public</span> key has been saved <span class="keyword">in</span> <span class="regexp">/home/</span>tekkub<span class="regexp">/.ssh/</span>id_rsa.pub.</span><br><span class="line">The key fingerprint <span class="string">is:</span></span><br><span class="line">………………</span><br></pre></td></tr></table></figure>
<p>最后得到了两个文件：id_rsa 和 id_rsa.pub</p>
</li>
<li><p>添加专用密钥到 ssh：</p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#[ssh-add命令详解](http://tiandechi.com/2015/04/14/ssh-add-command/)</span></span><br><span class="line"><span class="variable">$ </span>ssh-add ~<span class="regexp">/.ssh/id</span>_rsa</span><br></pre></td></tr></table></figure>
</li>
<li><p>在github上添加ssh密钥，这要添加的是“id_rsa.pub”里面的公钥。<br>打开github ，登陆账号，然后在 设置-SSH keys 中添加“id_rsa.pub” 的全部内容。</p>
</li>
<li>测试：<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ ssh git<span class="annotation">@github</span>.com</span><br><span class="line">The authenticity of host ‘github.com (<span class="number">207.97</span>.227.239)’ can’t be established.</span><br><span class="line">RSA key fingerprint is <span class="number">16</span>:<span class="number">27</span>:<span class="string">ac:</span><span class="string">a5:</span><span class="number">76</span>:<span class="number">28</span>:<span class="number">2</span><span class="string">d:</span><span class="number">36</span>:<span class="number">63</span>:<span class="number">1</span><span class="string">b:</span><span class="number">56</span>:<span class="number">4</span><span class="string">d:</span><span class="string">eb:</span><span class="string">df:</span><span class="string">a6:</span><span class="number">48.</span></span><br><span class="line">Are you sure you want to <span class="keyword">continue</span> connecting (yes/no)? yes</span><br><span class="line">Warning: Permanently added ‘github.com,<span class="number">207.97</span>.227.239′ (RSA) to the list of known hosts.</span><br><span class="line"><span class="string">ERROR:</span> Hi tekkub! You’ve successfully authenticated, but GitHub does not provide shell access</span><br><span class="line">Connection to github.com closed.</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="愉快的使用_github_吧！">愉快的使用 github 吧！</h1><p><a href="http://blog.csdn.net/hustpzb/article/details/8230454/" target="_blank" rel="external">Git SSH Key 生成步骤</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>Git是分布式的代码管理工具，远程的代码管理是基于SSH的，所以要使用远程的Git则需要SSH的配置。</p>
<h1 id="设置Git的user_name和email：">设置Git的user name和email：</h1><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user<span class="class">.name</span> <span class="string">"my"</span></span><br><span class="line">$ git config --global user<span class="class">.email</span> <span class="string">"my@email.address"</span></span><br></pre></td></tr></table></figure>]]>
    
    </summary>
    
      <category term="GIt" scheme="http://tiandechi.com/tags/GIt/"/>
    
      <category term="SSH" scheme="http://tiandechi.com/tags/SSH/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[when git pull get conflict]]></title>
    <link href="http://tiandechi.com/2015/04/18/when-git-pull-get-conflict/"/>
    <id>http://tiandechi.com/2015/04/18/when-git-pull-get-conflict/</id>
    <published>2015-04-18T15:41:42.000Z</published>
    <updated>2015-04-18T15:45:10.495Z</updated>
    <content type="html"><![CDATA[<p>同事在使用git pull代码时，经常会碰到有冲突的情况，提示如下信息：<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">error: Your <span class="built_in">local</span> changes <span class="built_in">to</span> <span class="string">'c/environ.c'</span> would be overwritten <span class="keyword">by</span> <span class="built_in">merge</span>. Aborting.</span><br><span class="line">Please, commit your changes <span class="operator">or</span> stash them <span class="keyword">before</span> you can <span class="built_in">merge</span>.</span><br></pre></td></tr></table></figure></p>
<p>这个意思是说更新下来的内容和本地修改的内容有冲突，先提交你的改变或者先将本地修改暂时存储起来。<br>处理的方式非常简单，主要是使用git stash命令进行处理，分成以下几个步骤进行处理。<br><a id="more"></a></p>
<ol>
<li><p>先将本地修改存储起来</p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>git stash</span><br></pre></td></tr></table></figure>
<p>这样本地的所有修改就都被暂时存储起来 。是用git stash list可以看到保存的信息.<br>其中stash@{0}就是刚才保存的标记。</p>
</li>
<li><p>pull内容<br>暂存了本地修改之后，就可以pull了。</p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>git pull</span><br></pre></td></tr></table></figure>
</li>
<li><p>还原暂存的内容</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git stash <span class="keyword">pop</span> stash<span class="variable">@&#123;0&#125;</span></span><br></pre></td></tr></table></figure>
<p>系统提示如下类似的信息：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Auto</span>-merging <span class="built_in">c</span>/environ.<span class="built_in">c</span></span><br><span class="line"><span class="type">CONFLICT</span> (content): <span class="type">Merge</span> conflict <span class="keyword">in</span> <span class="built_in">c</span>/environ.<span class="built_in">c</span></span><br></pre></td></tr></table></figure>
<p>意思就是系统自动合并修改的内容，但是其中有冲突，需要解决其中的冲突。</p>
</li>
<li>解决文件中冲突的的部分<br>打开冲突的文件，会看到类似如下的内容：<br><img src="http://ww1.sinaimg.cn/mw690/6e8d8f65gw1er5gb8gqn0j206p027742.jpg" alt="git冲突内容"><br>其中Updated upstream 和=====之间的内容就是pull下来的内容，====和stashed changes之间的内容就是本地修改的内容。碰到这种情况，git也不知道哪行内容是需要的，所以要自行确定需要的内容。</li>
<li>解决完成之后，就可以正常的提交了。</li>
</ol>
<p><a href="http://www.01happy.com/git-resolve-conflicts/" target="_blank" rel="external">原文</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>同事在使用git pull代码时，经常会碰到有冲突的情况，提示如下信息：<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">error: Your <span class="built_in">local</span> changes <span class="built_in">to</span> <span class="string">'c/environ.c'</span> would be overwritten <span class="keyword">by</span> <span class="built_in">merge</span>. Aborting.</span><br><span class="line">Please, commit your changes <span class="operator">or</span> stash them <span class="keyword">before</span> you can <span class="built_in">merge</span>.</span><br></pre></td></tr></table></figure></p>
<p>这个意思是说更新下来的内容和本地修改的内容有冲突，先提交你的改变或者先将本地修改暂时存储起来。<br>处理的方式非常简单，主要是使用git stash命令进行处理，分成以下几个步骤进行处理。<br>]]>
    
    </summary>
    
      <category term="Git" scheme="http://tiandechi.com/tags/Git/"/>
    
      <category term="Linux" scheme="http://tiandechi.com/categories/Linux/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[VIM configure]]></title>
    <link href="http://tiandechi.com/2015/04/18/VIM-configure/"/>
    <id>http://tiandechi.com/2015/04/18/VIM-configure/</id>
    <published>2015-04-18T15:38:11.000Z</published>
    <updated>2015-04-18T15:41:16.135Z</updated>
    <content type="html"><![CDATA[<p>vim 是公认很好用很完美，但是对新手来说，上手毕竟不是很容易。Windows下程序员很多都很喜欢 Source Insight 这个工具来看代码，各种语法高亮看着很舒服。vim 作为为程序员打造的编辑器，没有道理不可以通过配置让程序员舒服地编辑代码，但是新手通常很难将其配置成顺手顺眼的环境。<br>用户只需修改家目录下的 .vimrc 配置文件内容，即可自定义 vim 的功能。<br>可以把 ~/.vimrc 里面的内容替换为如下内容，或者，根据需要直接在上面根据需要自行修改（ &quot; 后面的内容为注释内容）：<br><a id="more"></a><br>&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;<br>&quot; 显示相关<br>&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;<br>&quot;set shortmess=atI &quot; 启动的时候不显示那个援助乌干达儿童的提示<br>&quot;winpos 5 5 &quot; 设定窗口位置<br>&quot;set lines=40 columns=155 &quot; 设定窗口大小<br>&quot;set nu &quot; 显示行号<br>set go= &quot; 不要图形按钮<br>&quot;color asmanian2 &quot; 设置背景主题<br>set guifont=Courier<em>New:h10:cANSI &quot; 设置字体<br>&quot;syntax on &quot; 语法高亮<br>autocmd InsertLeave <em> se nocul &quot; 用浅色高亮当前行<br>autocmd InsertEnter </em> se cul &quot; 用浅色高亮当前行<br>&quot;set ruler &quot; 显示标尺<br>set showcmd &quot; 输入的命令显示出来，看的清楚些<br>&quot;set cmdheight=1 &quot; 命令行（在状态行下）的高度，设置为1<br>&quot;set whichwrap+=&lt;,&gt;,h,l &quot; 允许backspace和光标键跨越行边界(不建议)<br>&quot;set scrolloff=3 &quot; 光标移动到buffer的顶部和底部时保持3行距离<br>set novisualbell &quot; 不要闪烁(不明白)<br>set statusline=%F%m%r%h%w\ [FORMAT=%{&amp;ff}]\ [TYPE=%Y]\ [POS=%l,%v][%p%%]\ %{strftime(\&quot;%d/%m/%y\ -\ %H:%M\&quot;)} &quot;状态行显示的内容<br>set laststatus=1 &quot; 启动显示状态行(1),总是显示状态行(2)<br>set foldenable &quot; 允许折叠<br>set foldmethod=manual &quot; 手动折叠<br>&quot;set background=dark &quot;背景使用黑色<br>set nocompatible &quot;去掉讨厌的有关vi一致性模式，避免以前版本的一些bug和局限<br>&quot; 显示中文帮助<br>if version &gt;= 603<br>set helplang=cn<br>set encoding=utf-8<br>endif<br>&quot; 设置配色方案<br>&quot;colorscheme murphy<br>&quot;字体<br>&quot;if (has(&quot;gui_running&quot;))<br>&quot; set guifont=Bitstream\ Vera\ Sans\ Mono\ 10<br>&quot;endif<br>set fencs=utf-8,ucs-bom,shift-jis,gb18030,gbk,gb2312,cp936<br>set termencoding=utf-8<br>set encoding=utf-8<br>set fileencodings=ucs-bom,utf-8,cp936<br>set fileencoding=utf-8<br>&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;<br>&quot;新文件标题<br>&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;<br>&quot;新建.c,.h,.sh,.java文件，自动插入文件头<br>autocmd BufNewFile .cpp,.[ch],.sh,.java exec &quot;:call SetTitle()&quot;<br>&quot;&quot;定义函数SetTitle，自动插入文件头<br>func SetTitle()<br>&quot;如果文件类型为.sh文件<br>if &amp;filetype == &#39;sh&#39;<br>call setline(1,&quot;#########################################################################&quot;)<br>call append(line(&quot;.&quot;), &quot;# File Name: &quot;.expand(&quot;%&quot;))<br>call append(line(&quot;.&quot;)+1, &quot;# Author: ma6174&quot;)<br>call append(line(&quot;.&quot;)+2, &quot;# mail: ma6174@163.com&quot;)<br>call append(line(&quot;.&quot;)+3, &quot;# Created Time: &quot;.strftime(&quot;%c&quot;))<br>call append(line(&quot;.&quot;)+4, &quot;#########################################################################&quot;)<br>call append(line(&quot;.&quot;)+5, &quot;#!/bin/bash&quot;)<br>call append(line(&quot;.&quot;)+6, &quot;&quot;)<br>else<br>call setline(1, &quot;/<em>&quot;)<br>call append(line(&quot;.&quot;), &quot; &gt; File Name: &quot;.expand(&quot;%&quot;))<br>call append(line(&quot;.&quot;)+1, &quot; &gt; Author: ma6174&quot;)<br>call append(line(&quot;.&quot;)+2, &quot; &gt; Mail: ma6174@163.com &quot;)<br>call append(line(&quot;.&quot;)+3, &quot; &gt; Created Time: &quot;.strftime(&quot;%c&quot;))<br>call append(line(&quot;.&quot;)+4, &quot; **/&quot;)<br>call append(line(&quot;.&quot;)+5, &quot;&quot;)<br>endif<br>if &amp;filetype == &#39;cpp&#39;<br>call append(line(&quot;.&quot;)+6, &quot;#include&quot;)<br>call append(line(&quot;.&quot;)+7, &quot;using namespace std;&quot;)<br>call append(line(&quot;.&quot;)+8, &quot;&quot;)<br>endif<br>if &amp;filetype == &#39;c&#39;<br>call append(line(&quot;.&quot;)+6, &quot;#include&quot;)<br>call append(line(&quot;.&quot;)+7, &quot;&quot;)<br>endif<br>&quot;新建文件后，自动定位到文件末尾<br>autocmd BufNewFile </em> normal G<br>endfunc<br>&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;<br>&quot;键盘命令<br>&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;<br>nmap w :w!<br>nmap f :find<br>&quot; 映射全选+复制 ctrl+a<br>map ggVGY<br>map! ggVGY<br>map gg=G<br>&quot; 选中状态下 Ctrl+c 复制<br>vmap &quot;+y<br>&quot;去空行<br>nnoremap :g/^\s<em>$/d<br>&quot;比较文件<br>nnoremap :vert diffsplit<br>&quot;新建标签<br>map :tabnew<br>&quot;列出当前目录文件<br>map :tabnew .<br>&quot;打开树状文件目录<br>map \be<br>&quot;C，C++ 按F5编译运行<br>map :call CompileRunGcc()<br>func! CompileRunGcc()<br>exec &quot;w&quot;<br>if &amp;filetype == &#39;c&#39;<br>exec &quot;!g++ % -o %&lt;&quot;<br>exec &quot;! ./%&lt;&quot;<br>elseif &amp;filetype == &#39;cpp&#39;<br>exec &quot;!g++ % -o %&lt;&quot;<br>exec &quot;! ./%&lt;&quot;<br>elseif &amp;filetype == &#39;java&#39;<br>exec &quot;!javac %&quot;<br>exec &quot;!java %&lt;&quot;<br>elseif &amp;filetype == &#39;sh&#39;<br>:!./%<br>endif<br>endfunc<br>&quot;C,C++的调试<br>map :call Rungdb()<br>func! Rungdb()<br>exec &quot;w&quot;<br>exec &quot;!g++ % -g -o %&lt;&quot;<br>exec &quot;!gdb ./%&lt;&quot;<br>endfunc<br>&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;<br>&quot;&quot;实用设置<br>&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;<br>&quot; 设置当文件被改动时自动载入<br>set autoread<br>&quot; quickfix模式<br>autocmd FileType c,cpp map :w:make<br>&quot;代码补全<br>set completeopt=preview,menu<br>&quot;允许插件<br>filetype plugin on<br>&quot;共享剪贴板<br>set clipboard+=unnamed<br>&quot;从不备份<br>set nobackup<br>&quot;make 运行<br>:set makeprg=g++\ -Wall\ \ %<br>&quot;自动保存<br>set autowrite<br>set ruler &quot; 打开状态栏标尺<br>set cursorline &quot; 突出显示当前行<br>set magic &quot; 设置魔术<br>set guioptions-=T &quot; 隐藏工具栏<br>set guioptions-=m &quot; 隐藏菜单栏<br>&quot;set statusline=\ %&lt;%F[%1%M%%n%R%H]%=\ %y\ %0(%{&amp;fileformat}\ %{&amp;encoding}\ %c:%l/%L%)\<br>&quot; 设置在状态行显示的信息<br>set foldcolumn=0<br>set foldmethod=indent<br>set foldlevel=3<br>set foldenable &quot; 开始折叠<br>&quot; 不要使用vi的键盘模式，而是vim自己的<br>set nocompatible<br>&quot; 语法高亮<br>set syntax=on<br>&quot; 去掉输入错误的提示声音<br>set noeb<br>&quot; 在处理未保存或只读文件的时候，弹出确认<br>set confirm<br>&quot; 自动缩进<br>set autoindent<br>set cindent<br>&quot; Tab键的宽度<br>set tabstop=4<br>&quot; 统一缩进为4<br>set softtabstop=4<br>set shiftwidth=4<br>&quot; 不要用空格代替制表符<br>set noexpandtab<br>&quot; 在行和段开始处使用制表符<br>set smarttab<br>&quot; 显示行号<br>set number<br>&quot; 历史记录数<br>set history=1000<br>&quot;禁止生成临时文件<br>set nobackup<br>set noswapfile<br>&quot;搜索忽略大小写<br>set ignorecase<br>&quot;搜索逐字符高亮<br>set hlsearch<br>set incsearch<br>&quot;行内替换<br>set gdefault<br>&quot;编码设置<br>set enc=utf-8<br>set fencs=utf-8,ucs-bom,shift-jis,gb18030,gbk,gb2312,cp936<br>&quot;语言设置<br>set langmenu=zh_CN.UTF-8<br>set helplang=cn<br>&quot; 我的状态行显示的内容（包括文件类型和解码）<br>&quot;set statusline=%F%m%r%h%w\ [FORMAT=%{&amp;ff}]\ [TYPE=%Y]\ [POS=%l,%v][%p%%]\ %{strftime(\&quot;%d/%m/%y\ -\ %H:%M\&quot;)}<br>&quot;set statusline=[%F]%y%r%m%</em>%=[Line:%l/%L,Column:%c][%p%%]<br>&quot; 总是显示状态行<br>set laststatus=2<br>&quot; 命令行（在状态行下）的高度，默认为1，这里是2<br>set cmdheight=2<br>&quot; 侦测文件类型<br>filetype on<br>&quot; 载入文件类型插件<br>filetype plugin on<br>&quot; 为特定文件类型载入相关缩进文件<br>filetype indent on<br>&quot; 保存全局变量<br>set viminfo+=!<br>&quot; 带有如下符号的单词不要被换行分割<br>set iskeyword+=</em>,$,@,%,#,-<br>&quot; 字符间插入的像素行数目<br>set linespace=0<br>&quot; 增强模式中的命令行自动完成操作<br>set wildmenu<br>&quot; 使回格键（backspace）正常处理indent, eol, start等<br>set backspace=2<br>&quot; 允许backspace和光标键跨越行边界<br>set whichwrap+=&lt;,&gt;,h,l<br>&quot; 可以在buffer的任何地方使用鼠标（类似office中在工作区双击鼠标定位）<br>set mouse=a<br>set selection=exclusive<br>set selectmode=mouse,key<br>&quot; 通过使用: commands命令，告诉我们文件的哪一行被改变过<br>set report=0<br>&quot; 在被分割的窗口间显示空白，便于阅读<br>set fillchars=vert:\ ,stl:\ ,stlnc:\<br>&quot; 高亮显示匹配的括号<br>set showmatch<br>&quot; 匹配括号高亮的时间（单位是十分之一秒）<br>set matchtime=1<br>&quot; 光标移动到buffer的顶部和底部时保持3行距离<br>set scrolloff=3<br>&quot; 为C程序提供自动缩进<br>set smartindent<br>&quot; 高亮显示普通txt文件（需要txt.vim脚本）<br>au BufRead,BufNewFile * setfiletype txt<br>&quot;自动补全<br>:inoremap ( ()i<br>:inoremap ) =ClosePair(&#39;)&#39;)<br>:inoremap { {}O<br>:inoremap } =ClosePair(&#39;}&#39;)<br>:inoremap [ []i<br>:inoremap ] =ClosePair(&#39;]&#39;)<br>:inoremap &quot; &quot;&quot;i<br>:inoremap &#39; &#39;&#39;i<br>function! ClosePair(char)<br>if getline(&#39;.&#39;)[col(&#39;.&#39;) - 1] == a:char<br>return &quot;\&quot;<br>else<br>return a:char<br>endif<br>endfunction<br>filetype plugin indent on<br>&quot;打开文件类型检测, 加了这句才可以用智能补全<br>set completeopt=longest,menu<br>&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;<br>&quot; CTags的设定<br>&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;<br>let Tlist_Sort_Type = &quot;name&quot; &quot; 按照名称排序<br>let Tlist_Use_Right_Window = 1 &quot; 在右侧显示窗口<br>let Tlist_Compart_Format = 1 &quot; 压缩方式<br>let Tlist_Exist_OnlyWindow = 1 &quot; 如果只有一个buffer，kill窗口也kill掉buffer<br>let Tlist_File_Fold_Auto_Close = 0 &quot; 不要关闭其他文件的tags<br>let Tlist_Enable_Fold_Column = 0 &quot; 不要显示折叠树<br>autocmd FileType java set tags+=D:\tools\java\tags<br>&quot;autocmd FileType h,cpp,cc,c set tags+=D:\tools\cpp\tags<br>&quot;let Tlist_Show_One_File=1 &quot;不同时显示多个文件的tag，只显示当前文件的<br>&quot;设置tags<br>set tags=tags<br>&quot;set autochdir<br>&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;<br>&quot;其他东东<br>&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;<br>&quot;默认打开Taglist<br>let Tlist_Auto_Open=1<br>&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;<br>&quot; Tag list (ctags)<br>&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;<br>let Tlist_Ctags_Cmd = &#39;/usr/bin/ctags&#39;<br>let Tlist_Show_One_File = 1 &quot;不同时显示多个文件的tag，只显示当前文件的<br>let Tlist_Exit_OnlyWindow = 1 &quot;如果taglist窗口是最后一个窗口，则退出vim<br>let Tlist_Use_Right_Window = 1 &quot;在右侧窗口中显示taglist窗口<br>&quot; minibufexpl插件的一般设置<br>let g:miniBufExplMapWindowNavVim = 1<br>let g:miniBufExplMapWindowNavArrows = 1<br>let g:miniBufExplMapCTabSwitchBufs = 1<br>let g:miniBufExplModSelTarget = 1</p>
<p>--------------------------------------分割线 --------------------------------------<br>vim 配置主要有以下特点：</p>
<ol>
<li>按 F5 可以直接编译并执行C、C++、java代码以及执行shell脚本，按“F8”可进行C、C++代码的调试</li>
<li>自动插入文件头 ，新建C、C++源文件时自动插入表头：包括文件名、作者、联系方式、建立时间等，读者可根据需求自行更改</li>
<li>映射“Ctrl + A”为全选并复制快捷键，方便复制代码</li>
<li>按“F2”可以直接消除代码中的空行</li>
<li>“F3”可列出当前目录文件，打开树状文件目录</li>
<li>支持鼠标选择、方向键移动</li>
<li>代码高亮，自动缩进，显示行号，显示状态行</li>
<li>按“Ctrl + P”可自动补全</li>
<li>[]、{}、()、&quot;&quot;、&#39; &#39;等都自动补全</li>
<li>其他功能读者可以查阅<a href="http://www.linuxidc.com/Linux/2015-04/115913.htm" target="_blank" rel="external">原文</a></li>
</ol>
]]></content>
    <summary type="html">
    <![CDATA[<p>vim 是公认很好用很完美，但是对新手来说，上手毕竟不是很容易。Windows下程序员很多都很喜欢 Source Insight 这个工具来看代码，各种语法高亮看着很舒服。vim 作为为程序员打造的编辑器，没有道理不可以通过配置让程序员舒服地编辑代码，但是新手通常很难将其配置成顺手顺眼的环境。<br>用户只需修改家目录下的 .vimrc 配置文件内容，即可自定义 vim 的功能。<br>可以把 ~/.vimrc 里面的内容替换为如下内容，或者，根据需要直接在上面根据需要自行修改（ &quot; 后面的内容为注释内容）：<br>]]>
    
    </summary>
    
      <category term="Vim" scheme="http://tiandechi.com/tags/Vim/"/>
    
      <category term="Linux" scheme="http://tiandechi.com/categories/Linux/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[how to send file by SSH]]></title>
    <link href="http://tiandechi.com/2015/04/18/how-to-send-file-by-SSH/"/>
    <id>http://tiandechi.com/2015/04/18/how-to-send-file-by-SSH/</id>
    <published>2015-04-18T15:36:33.000Z</published>
    <updated>2015-04-18T15:37:51.765Z</updated>
    <content type="html"><![CDATA[<p>scp 命令是 SSH 中最方便有用的命令了，试想，在两台服务器之间直接传送文件，仅仅用 scp 一个命令就完全解决了。 你可以在一台服务器上 以 root 身份运行 #scp servername:/home/ftp/pub/file1 . 这样就把另一台服务器上的文件 /home/ftp/pub/file1 直接传到本机器的当前目录下，当然你也可以用 #scp /tmp/file2 servername:/boot 把本机上的文件 /tmp/file2 送到另一台机器的 /boot 目录下。而且整个传送过程仍然是用 SSH 加密的。<br>scp 就是 secure copy, 是用来进行远程文件拷贝的 . 数据传输使用 ssh1, 并且和 ssh1 使用相同的认证方式 , 提供相同的安全保证 . 与 rcp 不同的是 ,scp 会要求你输入密码如果需要的话 .<br><a id="more"></a><br>最简单的应用如下 :<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">scp</span> 本地用户名 <span class="variable">@IP</span> 地址 : 文件名 <span class="number">1</span> 远程用户名 <span class="variable">@IP</span> 地址 : 文件名 <span class="number">2</span></span><br></pre></td></tr></table></figure></p>
<p>[ 本地用户名 @IP 地址 :] 可以不输入 , 可能需要输入远程用户名所对应的密码 .<br>可能有用的几个参数 :<br><figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-<span class="ruby">v 和大多数 linux 命令中的 -v 意思一样 , 用来显示进度 . 可以用来查看连接 , 认证 , 或是配置错误 .</span><br><span class="line"></span>-<span class="ruby"><span class="constant">C</span> 使能压缩选项 .</span><br><span class="line"></span>-<span class="ruby"><span class="constant">P</span> 选择端口 . 注意 -p 已经被 rcp 使用 .</span><br><span class="line"></span>-<span class="ruby"><span class="number">4</span> 强行使用 <span class="constant">IPV4</span> 地址 .</span><br><span class="line"></span>-<span class="ruby"><span class="number">6</span> 强行使用 <span class="constant">IPV6</span> 地址 .</span><br><span class="line"></span>-<span class="ruby">r <span class="constant">Recursively</span> copy entire directories.</span></span><br></pre></td></tr></table></figure></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>scp 命令是 SSH 中最方便有用的命令了，试想，在两台服务器之间直接传送文件，仅仅用 scp 一个命令就完全解决了。 你可以在一台服务器上 以 root 身份运行 #scp servername:/home/ftp/pub/file1 . 这样就把另一台服务器上的文件 /home/ftp/pub/file1 直接传到本机器的当前目录下，当然你也可以用 #scp /tmp/file2 servername:/boot 把本机上的文件 /tmp/file2 送到另一台机器的 /boot 目录下。而且整个传送过程仍然是用 SSH 加密的。<br>scp 就是 secure copy, 是用来进行远程文件拷贝的 . 数据传输使用 ssh1, 并且和 ssh1 使用相同的认证方式 , 提供相同的安全保证 . 与 rcp 不同的是 ,scp 会要求你输入密码如果需要的话 .<br>]]>
    
    </summary>
    
      <category term="SSH" scheme="http://tiandechi.com/tags/SSH/"/>
    
      <category term="scp" scheme="http://tiandechi.com/tags/scp/"/>
    
      <category term="Linux" scheme="http://tiandechi.com/categories/Linux/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[how to format usb stick in Linux]]></title>
    <link href="http://tiandechi.com/2015/04/18/how-to-format-usb-stick-in-Linux/"/>
    <id>http://tiandechi.com/2015/04/18/how-to-format-usb-stick-in-Linux/</id>
    <published>2015-04-18T15:32:32.000Z</published>
    <updated>2015-04-18T15:35:22.475Z</updated>
    <content type="html"><![CDATA[<p><a href="http://os.51cto.com/art/201307/402212.htm" target="_blank" rel="external">在 Linux 系统如何正确的对U盘进行格式化？</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<p><a href="http://os.51cto.com/art/201307/402212.htm" target="_blank" rel="external">在 Linux 系统如何正确的对U盘进行格式化？</a></p>
]]>
    </summary>
    
      <category term="Format" scheme="http://tiandechi.com/tags/Format/"/>
    
      <category term="usb stick" scheme="http://tiandechi.com/tags/usb-stick/"/>
    
      <category term="Linux" scheme="http://tiandechi.com/categories/Linux/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Debian Package Management]]></title>
    <link href="http://tiandechi.com/2015/04/18/Debian-Package-Management/"/>
    <id>http://tiandechi.com/2015/04/18/Debian-Package-Management/</id>
    <published>2015-04-18T15:30:53.000Z</published>
    <updated>2015-04-18T15:35:33.890Z</updated>
    <content type="html"><![CDATA[<p>因文章较详实，这里不再做拷贝，请移至源地址查阅：<br><a href="http://www.ibm.com/developerworks/cn/linux/l-lpic1-v3-102-4/" target="_blank" rel="external">Debian 包管理</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>因文章较详实，这里不再做拷贝，请移至源地址查阅：<br><a href="http://www.ibm.com/developerworks/cn/linux/l-lpic1-v3-102-4/" target="_blank" rel="external">Debian ]]>
    </summary>
    
      <category term="Debian" scheme="http://tiandechi.com/tags/Debian/"/>
    
      <category term="Package" scheme="http://tiandechi.com/tags/Package/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[force unmount usb stick]]></title>
    <link href="http://tiandechi.com/2015/04/18/force-unmount-usb-stick/"/>
    <id>http://tiandechi.com/2015/04/18/force-unmount-usb-stick/</id>
    <published>2015-04-18T15:27:21.000Z</published>
    <updated>2015-04-18T15:35:44.790Z</updated>
    <content type="html"><![CDATA[<h1 id="U盘挂载到linux里如何查看">U盘挂载到linux里如何查看</h1><ol>
<li><p>U盘插到主机上之前，用</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fdisk <span class="operator">-l</span></span><br></pre></td></tr></table></figure>
<p>查看。<br>插上之后，再用</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fdisk <span class="operator">-l</span></span><br></pre></td></tr></table></figure>
<p>查看一下。<br>比较两者结果，多出来的就是你的U盘。</p>
</li>
<li><p>U盘插到主机上之前，查看一下/proc/partitions<br>用命令：</p>
<figure class="highlight nimrod"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /<span class="keyword">proc</span>/partitions</span><br></pre></td></tr></table></figure>
<p>U盘插到主机后，再查看一下。多出来的设备和分区就是你U盘的分区。</p>
</li>
</ol>
<h1 id="如何强制卸载使用中的u盘">如何强制卸载使用中的u盘</h1><p>将U盘挂载到一个文件夹下，卸载的时候，出现busy。<br>怎么卸载呢，怎么强制卸载呢？<br>用fuser命令：<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">fuser</span> -m -v /mnt/usbflash <span class="comment">#这样就找出了是哪个进程在占用U盘。</span></span><br></pre></td></tr></table></figure></p>
<p>然后<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">fuser</span> -m -v -i -k /mnt/usbflash <span class="comment">#强制卸载U盘。</span></span><br></pre></td></tr></table></figure></p>
<p>via.<a href="http://blog.sina.com.cn/s/blog_672b419f010156yv.html" target="_blank" rel="external">冷雨玫瑰的博客</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<h1 id="U盘挂载到linux里如何查看">U盘挂载到linux里如何查看</h1><ol>
<li><p>U盘插到主机上之前，用</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><]]>
    </summary>
    
      <category term="mount" scheme="http://tiandechi.com/tags/mount/"/>
    
      <category term="usb stick" scheme="http://tiandechi.com/tags/usb-stick/"/>
    
      <category term="Linux" scheme="http://tiandechi.com/categories/Linux/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[tar manual]]></title>
    <link href="http://tiandechi.com/2015/04/18/tar-manual/"/>
    <id>http://tiandechi.com/2015/04/18/tar-manual/</id>
    <published>2015-04-18T13:12:08.000Z</published>
    <updated>2015-04-18T15:35:02.995Z</updated>
    <content type="html"><![CDATA[<h1 id="命令名">命令名</h1><p>tar - tar 档案文件管理程序的 GNU 版本。</p>
<h1 id="总览">总览</h1><figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">tar</span> <span class="title">[</span> <span class="literal">-</span> <span class="title">]</span> <span class="comment">A</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">catenate</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">concatenate</span> <span class="comment">|</span> <span class="comment">c</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">create</span> <span class="comment">|</span> <span class="comment">d</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">diff</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">compare</span> <span class="comment">|</span> <span class="comment">r</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">append</span> <span class="comment">|</span> <span class="comment">t</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">list</span> <span class="comment">|</span> <span class="comment">u</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">update</span> <span class="comment">|</span> <span class="comment">x</span> <span class="literal">-</span><span class="comment">extract</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">get</span> <span class="title">[</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">atime</span><span class="literal">-</span><span class="comment">preserve</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">b</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">block</span><span class="literal">-</span><span class="comment">size</span> <span class="comment">N</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">B</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">read</span><span class="literal">-</span><span class="comment">full</span><span class="literal">-</span><span class="comment">blocks</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">C</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">directory</span> <span class="comment">DIR</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">checkpoint</span> <span class="title">]</span></span><br><span class="line"><span class="title">[</span> <span class="literal">-</span><span class="comment">f</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">file</span> <span class="title">[</span><span class="comment">HOSTNAME:</span><span class="title">]</span><span class="comment">F</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">force</span><span class="literal">-</span><span class="comment">local</span> <span class="title">]</span></span><br><span class="line"><span class="title">[</span> <span class="literal">-</span><span class="comment">F</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">info</span><span class="literal">-</span><span class="comment">script</span> <span class="comment">F</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">new</span><span class="literal">-</span><span class="comment">volume</span><span class="literal">-</span><span class="comment">script</span> <span class="comment">F</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">G</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">incremental</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">g</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">listed</span><span class="literal">-</span><span class="comment">incremental</span> <span class="comment">F</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">h</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">dereference</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">i</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">ignore</span><span class="literal">-</span><span class="comment">zeros</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">I</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">bzip</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">ignore</span><span class="literal">-</span><span class="comment">failed</span><span class="literal">-</span><span class="comment">read</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">k</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">keep</span><span class="literal">-</span><span class="comment">old</span><span class="literal">-</span><span class="comment">files</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">K</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">starting</span><span class="literal">-</span><span class="comment">file</span> <span class="comment">F</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">l</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">one</span><span class="literal">-</span><span class="comment">file</span><span class="literal">-</span><span class="comment">system</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">L</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">tape</span><span class="literal">-</span><span class="comment">length</span> <span class="comment">N</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">m</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">modification</span><span class="literal">-</span><span class="comment">time</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">M</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">multi</span><span class="literal">-</span><span class="comment">volume</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">N</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">after</span><span class="literal">-</span><span class="comment">date</span> <span class="comment">DATE</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">newer</span> <span class="comment">DATE</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">o</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">old</span><span class="literal">-</span><span class="comment">archive</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">portability</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">O</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">to</span><span class="literal">-</span><span class="comment">stdout</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">p</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">same</span><span class="literal">-</span><span class="comment">permissions</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">preserve</span><span class="literal">-</span><span class="comment">permissions</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">P</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">absolute</span><span class="literal">-</span><span class="comment">paths</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">preserve</span> <span class="title">]</span></span><br><span class="line"><span class="title">[</span> <span class="literal">-</span><span class="comment">R</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">record</span><span class="literal">-</span><span class="comment">number</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">remove</span><span class="literal">-</span><span class="comment">files</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">s</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">same</span><span class="literal">-</span><span class="comment">order</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">preserve</span><span class="literal">-</span><span class="comment">order</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">same</span><span class="literal">-</span><span class="comment">owner</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">S</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">sparse</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">T</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">files</span><span class="literal">-</span><span class="comment">from</span> <span class="comment">F</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">null</span> <span class="title">]</span></span><br><span class="line"><span class="title">[</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">totals</span> <span class="title">]</span></span><br><span class="line"><span class="title">[</span> <span class="literal">-</span><span class="comment">v</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">verbose</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">V</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">label</span> <span class="comment">NAME</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">version</span> <span class="title">]</span></span><br><span class="line"><span class="title">[</span> <span class="literal">-</span><span class="comment">w</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">interactive</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">confirmation</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">W</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">verify</span> <span class="title">]</span></span><br><span class="line"><span class="title">[</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">exclude</span> <span class="comment">FILE</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">X</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">exclude</span><span class="literal">-</span><span class="comment">from</span> <span class="comment">FILE</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">Z</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">compress</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">uncompress</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">z</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">gzip</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">ungzip</span> <span class="title">]</span></span><br><span class="line"><span class="title">[</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">use</span><span class="literal">-</span><span class="comment">compress</span><span class="literal">-</span><span class="comment">program</span> <span class="comment">PROG</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">block</span><span class="literal">-</span><span class="comment">compress</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="title">[</span><span class="comment">0</span><span class="literal">-</span><span class="comment">7</span><span class="title">]</span><span class="title">[</span><span class="comment">lmh</span><span class="title">]</span> <span class="title">]</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">filename1</span> <span class="title">[</span> <span class="comment">filename2</span><span class="string">,</span> <span class="string">.</span><span class="string">.</span><span class="string">.</span> <span class="comment">filenameN</span> <span class="title">]</span></span><br><span class="line"><span class="comment">directory1</span> <span class="title">[</span> <span class="comment">directory2</span><span class="string">,</span> <span class="string">.</span><span class="string">.</span><span class="string">.</span><span class="comment">directoryN</span> <span class="title">]</span></span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h1 id="描述">描述</h1><p>tar 程序用于储存或展开 tar 存档文件。存档文件可放在磁盘中 ，也可以存为普通文件。 tar是需要参数的，可选的参数是A、c、d、r、t、u、x，您在使用tar时必须首先为 tar 指定至少一个参数；然后，您必须指定要处理的文件或目录。如果指定一个目录则该目录下的所有子目录都将被加入存档。</p>
<h1 id="应用举例：">应用举例：</h1><ol>
<li><p>展开<br>展开abc.tar.gz 使用命令</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar xvzf abc<span class="class">.tar</span><span class="class">.gz</span></span><br></pre></td></tr></table></figure>
<p>展开 abc.tar 使用命令</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">tar</span> xvf abc.tar</span><br></pre></td></tr></table></figure>
</li>
<li><p>将当前目录下的 man 目录及其子目录存成存档 man.tar</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar <span class="keyword">cf</span> <span class="keyword">man</span>.tar ./<span class="keyword">man</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="参数说明">参数说明</h1><p>运行tar时必须要有下列参数中的至少一个才可运行<br><figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">-<span class="ruby"><span class="constant">A</span>, --catenate, --concatenate</span><br><span class="line"></span>将一存档与已有的存档合并</span><br><span class="line">-<span class="ruby">c, --create</span><br><span class="line"></span>建立新的存档</span><br><span class="line">-<span class="ruby">d, --diff, --compare</span><br><span class="line"></span>比较存档与当前文件的不同之处</span><br><span class="line">-<span class="ruby">-delete</span><br><span class="line"></span>从存档中删除</span><br><span class="line">-<span class="ruby">r, --append</span><br><span class="line"></span>附加到存档结尾</span><br><span class="line">-<span class="ruby">t, --list</span><br><span class="line"></span>列出存档中文件的目录</span><br><span class="line">-<span class="ruby">u, --update</span><br><span class="line"></span>仅将较新的文件附加到存档中</span><br><span class="line">-<span class="ruby">x, --extract, --get</span><br><span class="line"></span>从存档展开文件</span><br></pre></td></tr></table></figure></p>
<h1 id="其他参数">其他参数</h1><figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line">-<span class="ruby">-atime-preserve</span><br><span class="line"></span>不改变转储文件的存取时间</span><br><span class="line">-<span class="ruby">b, --block-size <span class="constant">N</span></span><br><span class="line"></span>指定块大小为 Nx512 字节（缺省时 N=20)</span><br><span class="line">-<span class="ruby"><span class="constant">B</span>, --read-full-blocks</span><br><span class="line"></span>读取时重组块（？？？！！！）</span><br><span class="line">-<span class="ruby"><span class="constant">C</span>, --directory <span class="constant">DIR</span></span><br><span class="line"></span>转到指定的目录</span><br><span class="line">-<span class="ruby">-checkpoint</span><br><span class="line"></span>读取存档时显示目录名</span><br><span class="line">-<span class="ruby">f, --file [<span class="constant">HOSTNAME</span><span class="symbol">:</span>]<span class="constant">F</span></span><br><span class="line"></span>指定存档或设备 (缺省为 /dev/rmt0)</span><br><span class="line">-<span class="ruby">-force-local</span><br><span class="line"></span>强制使用本地存档，即使存在克隆</span><br><span class="line">-<span class="ruby"><span class="constant">F</span>, --info-script <span class="constant">F</span> --new-volume-script <span class="constant">F</span></span><br><span class="line"></span>在每个磁盘结尾使用脚本 F （隐含 -M）</span><br><span class="line">-<span class="ruby"><span class="constant">G</span>, --incremental</span><br><span class="line"></span>建立老 GNU 格式的备份</span><br><span class="line">-<span class="ruby">g, --listed-incremental <span class="constant">F</span></span><br><span class="line"></span>建立新 GNU 格式的备份</span><br><span class="line">-<span class="ruby">h, --dereference</span><br><span class="line"></span>不转储动态链接，转储动态链接指向的文件。</span><br><span class="line">-<span class="ruby">i, --ignore-zeros</span><br><span class="line"></span>忽略存档中的 0 字节块（通常意味着文件结束）</span><br><span class="line">-<span class="ruby">-ignore-failed-read</span><br><span class="line"></span>在不可读文件中作 0 标记后再退出？？？</span><br><span class="line">-<span class="ruby">k, --keep-old-files</span><br><span class="line"></span>保存现有文件；从存档中展开时不进行覆盖</span><br><span class="line">-<span class="ruby"><span class="constant">K</span>, --starting-file <span class="constant">F</span></span><br><span class="line"></span>从存档文件 F 开始</span><br><span class="line">-<span class="ruby">l, --one-file-system</span><br><span class="line"></span>在本地文件系统中创建存档</span><br><span class="line">-<span class="ruby"><span class="constant">L</span>, --tape-length <span class="constant">N</span></span><br><span class="line"></span>在写入 N*1024 个字节后暂停，等待更换磁盘</span><br><span class="line">-<span class="ruby">m, --modification-time</span><br><span class="line"></span>当从一个档案中恢复文件时，不使用新的时间标签</span><br><span class="line">-<span class="ruby"><span class="constant">M</span>, --multi-volume</span><br><span class="line"></span>建立多卷存档,以便在几个磁盘中存放</span><br><span class="line">-<span class="ruby"><span class="constant">N</span>, --after-date <span class="constant">DATE</span>, --newer <span class="constant">DATE</span></span><br><span class="line"></span>仅存储时间较新的文件</span><br><span class="line">-<span class="ruby">o, --old-archive, --portability</span><br><span class="line"></span>以 V7 格式存档，不用 ANSI 格式</span><br><span class="line">-<span class="ruby"><span class="constant">O</span>, --to-stdout</span><br><span class="line"></span>将文件展开到标准输出</span><br><span class="line">-<span class="ruby">p, --same-permissions, --preserve-permissions</span><br><span class="line"></span>展开所有保护信息</span><br><span class="line">-<span class="ruby"><span class="constant">P</span>, --absolute-paths</span><br><span class="line"></span>不要从文件名中去除 '/'</span><br><span class="line">-<span class="ruby">-preserve</span><br><span class="line"></span>like -p -s</span><br><span class="line">与 -p -s 相似</span><br><span class="line">-<span class="ruby"><span class="constant">R</span>, --record-number</span><br><span class="line"></span>显示信息时同时显示存档中的记录数</span><br><span class="line">-<span class="ruby">-remove-files</span><br><span class="line"></span>建立存档后删除源文件</span><br><span class="line">-<span class="ruby">s, --same-order, --preserve-order</span><br><span class="line"></span>？？？</span><br><span class="line">-<span class="ruby">-same-owner</span><br><span class="line"></span>展开以后使所有文件属于同一所有者</span><br><span class="line">-<span class="ruby"><span class="constant">S</span>, --sparse</span><br><span class="line"></span>高效处理</span><br><span class="line">-<span class="ruby"><span class="constant">T</span>, --files-from <span class="constant">F</span></span><br><span class="line"></span>从文件中得到要展开或要创建的文件名</span><br><span class="line">-<span class="ruby">-null</span><br><span class="line"></span>读取空结束的文件名，使 -C 失效</span><br><span class="line">-<span class="ruby">-totals</span><br><span class="line"></span>显示用 --create 参数写入的总字节数</span><br><span class="line">-<span class="ruby">v, --verbose</span><br><span class="line"></span>详细显示处理的文件</span><br><span class="line">-<span class="ruby"><span class="constant">V</span>, --label <span class="constant">NAME</span></span><br><span class="line"></span>为存档指定卷标</span><br><span class="line">-<span class="ruby">-version</span><br><span class="line"></span>显示 tar 程序的版本号</span><br><span class="line">-<span class="ruby">w, --interactive, --confirmation</span><br><span class="line"></span>每个操作都要求确认</span><br><span class="line">-<span class="ruby"><span class="constant">W</span>, --verify</span><br><span class="line"></span>写入存档后进行校验</span><br><span class="line">-<span class="ruby">-exclude <span class="constant">FILE</span></span><br><span class="line"></span>不把指定文件包含在内</span><br><span class="line">-<span class="ruby"><span class="constant">X</span>, --exclude-from <span class="constant">FILE</span></span><br><span class="line"></span>从指定文件中读入不想包含的文件的列表</span><br><span class="line">-<span class="ruby">y, --bzip2, --bunzip2</span><br><span class="line"></span>用 bzip2 对存档压缩或解压</span><br><span class="line">-<span class="ruby"><span class="constant">Z</span>, --compress, --uncompress</span><br><span class="line"></span>用 compress 对存档压缩或解压</span><br><span class="line">-<span class="ruby">z, --gzip, --ungzip</span><br><span class="line"></span>用 gzip 对存档压缩或解压</span><br><span class="line">-<span class="ruby">-use-compress-program <span class="constant">PROG</span></span><br><span class="line"></span>用 PROG 对存档压缩或解压 ( PROG 需能接受 -d 参数）</span><br><span class="line">-<span class="ruby">-block-compress</span><br><span class="line"></span>为便于磁盘存储，按块记录存档</span><br><span class="line">-<span class="ruby">[<span class="number">0</span>-<span class="number">7</span>][lmh]</span><br><span class="line"></span>指定驱动器和密度[高中低]</span><br></pre></td></tr></table></figure>
<h1 id="NAME">NAME</h1><p>tar - The GNU version of the tar archiving utility</p>
<h1 id="SYNOPSIS">SYNOPSIS</h1><figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">tar</span> <span class="title">[</span> <span class="literal">-</span> <span class="title">]</span> <span class="comment">A</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">catenate</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">concatenate</span> <span class="comment">|</span> <span class="comment">c</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">create</span> <span class="comment">|</span> <span class="comment">d</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">diff</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">compare</span> <span class="comment">|</span> <span class="comment">r</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">append</span> <span class="comment">|</span> <span class="comment">t</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">list</span> <span class="comment">|</span> <span class="comment">u</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">update</span> <span class="comment">|</span> <span class="comment">x</span> <span class="literal">-</span><span class="comment">extract</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">get</span> <span class="title">[</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">atime</span><span class="literal">-</span><span class="comment">preserve</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">b</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">block</span><span class="literal">-</span><span class="comment">size</span> <span class="comment">N</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">B</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">read</span><span class="literal">-</span><span class="comment">full</span><span class="literal">-</span><span class="comment">blocks</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">C</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">directory</span> <span class="comment">DIR</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">checkpoint</span> <span class="title">]</span></span><br><span class="line"><span class="title">[</span> <span class="literal">-</span><span class="comment">f</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">file</span> <span class="title">[</span><span class="comment">HOSTNAME:</span><span class="title">]</span><span class="comment">F</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">force</span><span class="literal">-</span><span class="comment">local</span> <span class="title">]</span></span><br><span class="line"><span class="title">[</span> <span class="literal">-</span><span class="comment">F</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">info</span><span class="literal">-</span><span class="comment">script</span> <span class="comment">F</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">new</span><span class="literal">-</span><span class="comment">volume</span><span class="literal">-</span><span class="comment">script</span> <span class="comment">F</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">G</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">incremental</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">g</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">listed</span><span class="literal">-</span><span class="comment">incremental</span> <span class="comment">F</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">h</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">dereference</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">i</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">ignore</span><span class="literal">-</span><span class="comment">zeros</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">j</span><span class="string">,</span> <span class="literal">-</span><span class="comment">I</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">bzip</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">ignore</span><span class="literal">-</span><span class="comment">failed</span><span class="literal">-</span><span class="comment">read</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">k</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">keep</span><span class="literal">-</span><span class="comment">old</span><span class="literal">-</span><span class="comment">files</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">K</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">starting</span><span class="literal">-</span><span class="comment">file</span> <span class="comment">F</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">l</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">one</span><span class="literal">-</span><span class="comment">file</span><span class="literal">-</span><span class="comment">system</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">L</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">tape</span><span class="literal">-</span><span class="comment">length</span> <span class="comment">N</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">m</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">modification</span><span class="literal">-</span><span class="comment">time</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">M</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">multi</span><span class="literal">-</span><span class="comment">volume</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">N</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">after</span><span class="literal">-</span><span class="comment">date</span> <span class="comment">DATE</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">newer</span> <span class="comment">DATE</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">o</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">old</span><span class="literal">-</span><span class="comment">archive</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">portability</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">O</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">to</span><span class="literal">-</span><span class="comment">stdout</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">p</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">same</span><span class="literal">-</span><span class="comment">permissions</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">preserve</span><span class="literal">-</span><span class="comment">permissions</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">P</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">absolute</span><span class="literal">-</span><span class="comment">paths</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">preserve</span> <span class="title">]</span></span><br><span class="line"><span class="title">[</span> <span class="literal">-</span><span class="comment">R</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">record</span><span class="literal">-</span><span class="comment">number</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">remove</span><span class="literal">-</span><span class="comment">files</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">s</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">same</span><span class="literal">-</span><span class="comment">order</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">preserve</span><span class="literal">-</span><span class="comment">order</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">same</span><span class="literal">-</span><span class="comment">owner</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">S</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">sparse</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">T</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">files</span><span class="literal">-</span><span class="comment">from=F</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">null</span> <span class="title">]</span></span><br><span class="line"><span class="title">[</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">totals</span> <span class="title">]</span></span><br><span class="line"><span class="title">[</span> <span class="literal">-</span><span class="comment">v</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">verbose</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">V</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">label</span> <span class="comment">NAME</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">version</span> <span class="title">]</span></span><br><span class="line"><span class="title">[</span> <span class="literal">-</span><span class="comment">w</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">interactive</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">confirmation</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">W</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">verify</span> <span class="title">]</span></span><br><span class="line"><span class="title">[</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">exclude</span> <span class="comment">FILE</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">X</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">exclude</span><span class="literal">-</span><span class="comment">from</span> <span class="comment">FILE</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">Z</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">compress</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">uncompress</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">z</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">gzip</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">ungzip</span> <span class="title">]</span></span><br><span class="line"><span class="title">[</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">use</span><span class="literal">-</span><span class="comment">compress</span><span class="literal">-</span><span class="comment">program</span> <span class="comment">PROG</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">block</span><span class="literal">-</span><span class="comment">compress</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="title">[</span><span class="comment">0</span><span class="literal">-</span><span class="comment">7</span><span class="title">]</span><span class="title">[</span><span class="comment">lmh</span><span class="title">]</span> <span class="title">]</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">filename1</span> <span class="title">[</span> <span class="comment">filename2</span><span class="string">,</span> <span class="string">.</span><span class="string">.</span><span class="string">.</span> <span class="comment">filenameN</span> <span class="title">]</span></span><br><span class="line"><span class="comment">directory1</span> <span class="title">[</span> <span class="comment">directory2</span><span class="string">,</span> <span class="string">.</span><span class="string">.</span><span class="string">.</span><span class="comment">directoryN</span> <span class="title">]</span></span><br></pre></td></tr></table></figure>
<h1 id="DESCRIPTION">DESCRIPTION</h1><pre><code>This manual page documents <span class="keyword">the</span> GNU <span class="property">version</span> <span class="keyword">of</span> tar , an archiving program designed <span class="keyword">to</span> store <span class="keyword">and</span> extract files <span class="keyword">from</span> an archive <span class="type">file</span> known <span class="keyword">as</span> a tarfile. A tarfile may be made <span class="function_start"><span class="keyword">on</span></span> a tape drive, however, <span class="keyword">it</span> <span class="keyword">is</span> also common <span class="keyword">to</span> <span class="command">write</span> a tarfile <span class="keyword">to</span> a normal <span class="type">file</span>. The <span class="keyword">first</span> argument <span class="keyword">to</span> tar must be one <span class="keyword">of</span> <span class="keyword">the</span> options: Acdrtux, followed <span class="keyword">by</span> any optional functions. The final arguments <span class="keyword">to</span> tar are <span class="keyword">the</span> names <span class="keyword">of</span> <span class="keyword">the</span> files <span class="keyword">or</span> directories which should be archived. The use <span class="keyword">of</span> a directory <span class="property">name</span> always implies <span class="keyword">that</span> <span class="keyword">the</span> subdirectories <span class="keyword">below</span> should be included <span class="keyword">in</span> <span class="keyword">the</span> archive.
</code></pre>]]></content>
    <summary type="html">
    <![CDATA[<h1 id="命令名">命令名</h1><p>tar - tar 档案文件管理程序的 GNU 版本。</p>
<h1 id="总览">总览</h1><figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">tar</span> <span class="title">[</span> <span class="literal">-</span> <span class="title">]</span> <span class="comment">A</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">catenate</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">concatenate</span> <span class="comment">|</span> <span class="comment">c</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">create</span> <span class="comment">|</span> <span class="comment">d</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">diff</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">compare</span> <span class="comment">|</span> <span class="comment">r</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">append</span> <span class="comment">|</span> <span class="comment">t</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">list</span> <span class="comment">|</span> <span class="comment">u</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">update</span> <span class="comment">|</span> <span class="comment">x</span> <span class="literal">-</span><span class="comment">extract</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">get</span> <span class="title">[</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">atime</span><span class="literal">-</span><span class="comment">preserve</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">b</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">block</span><span class="literal">-</span><span class="comment">size</span> <span class="comment">N</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">B</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">read</span><span class="literal">-</span><span class="comment">full</span><span class="literal">-</span><span class="comment">blocks</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">C</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">directory</span> <span class="comment">DIR</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">checkpoint</span> <span class="title">]</span></span><br><span class="line"><span class="title">[</span> <span class="literal">-</span><span class="comment">f</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">file</span> <span class="title">[</span><span class="comment">HOSTNAME:</span><span class="title">]</span><span class="comment">F</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">force</span><span class="literal">-</span><span class="comment">local</span> <span class="title">]</span></span><br><span class="line"><span class="title">[</span> <span class="literal">-</span><span class="comment">F</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">info</span><span class="literal">-</span><span class="comment">script</span> <span class="comment">F</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">new</span><span class="literal">-</span><span class="comment">volume</span><span class="literal">-</span><span class="comment">script</span> <span class="comment">F</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">G</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">incremental</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">g</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">listed</span><span class="literal">-</span><span class="comment">incremental</span> <span class="comment">F</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">h</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">dereference</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">i</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">ignore</span><span class="literal">-</span><span class="comment">zeros</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">I</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">bzip</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">ignore</span><span class="literal">-</span><span class="comment">failed</span><span class="literal">-</span><span class="comment">read</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">k</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">keep</span><span class="literal">-</span><span class="comment">old</span><span class="literal">-</span><span class="comment">files</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">K</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">starting</span><span class="literal">-</span><span class="comment">file</span> <span class="comment">F</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">l</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">one</span><span class="literal">-</span><span class="comment">file</span><span class="literal">-</span><span class="comment">system</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">L</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">tape</span><span class="literal">-</span><span class="comment">length</span> <span class="comment">N</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">m</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">modification</span><span class="literal">-</span><span class="comment">time</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">M</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">multi</span><span class="literal">-</span><span class="comment">volume</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">N</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">after</span><span class="literal">-</span><span class="comment">date</span> <span class="comment">DATE</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">newer</span> <span class="comment">DATE</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">o</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">old</span><span class="literal">-</span><span class="comment">archive</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">portability</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">O</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">to</span><span class="literal">-</span><span class="comment">stdout</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">p</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">same</span><span class="literal">-</span><span class="comment">permissions</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">preserve</span><span class="literal">-</span><span class="comment">permissions</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">P</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">absolute</span><span class="literal">-</span><span class="comment">paths</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">preserve</span> <span class="title">]</span></span><br><span class="line"><span class="title">[</span> <span class="literal">-</span><span class="comment">R</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">record</span><span class="literal">-</span><span class="comment">number</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">remove</span><span class="literal">-</span><span class="comment">files</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">s</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">same</span><span class="literal">-</span><span class="comment">order</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">preserve</span><span class="literal">-</span><span class="comment">order</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">same</span><span class="literal">-</span><span class="comment">owner</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">S</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">sparse</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">T</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">files</span><span class="literal">-</span><span class="comment">from</span> <span class="comment">F</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">null</span> <span class="title">]</span></span><br><span class="line"><span class="title">[</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">totals</span> <span class="title">]</span></span><br><span class="line"><span class="title">[</span> <span class="literal">-</span><span class="comment">v</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">verbose</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">V</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">label</span> <span class="comment">NAME</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">version</span> <span class="title">]</span></span><br><span class="line"><span class="title">[</span> <span class="literal">-</span><span class="comment">w</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">interactive</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">confirmation</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">W</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">verify</span> <span class="title">]</span></span><br><span class="line"><span class="title">[</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">exclude</span> <span class="comment">FILE</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">X</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">exclude</span><span class="literal">-</span><span class="comment">from</span> <span class="comment">FILE</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">Z</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">compress</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">uncompress</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="comment">z</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">gzip</span><span class="string">,</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">ungzip</span> <span class="title">]</span></span><br><span class="line"><span class="title">[</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">use</span><span class="literal">-</span><span class="comment">compress</span><span class="literal">-</span><span class="comment">program</span> <span class="comment">PROG</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">block</span><span class="literal">-</span><span class="comment">compress</span> <span class="title">]</span> <span class="title">[</span> <span class="literal">-</span><span class="title">[</span><span class="comment">0</span><span class="literal">-</span><span class="comment">7</span><span class="title">]</span><span class="title">[</span><span class="comment">lmh</span><span class="title">]</span> <span class="title">]</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">filename1</span> <span class="title">[</span> <span class="comment">filename2</span><span class="string">,</span> <span class="string">.</span><span class="string">.</span><span class="string">.</span> <span class="comment">filenameN</span> <span class="title">]</span></span><br><span class="line"><span class="comment">directory1</span> <span class="title">[</span> <span class="comment">directory2</span><span class="string">,</span> <span class="string">.</span><span class="string">.</span><span class="string">.</span><span class="comment">directoryN</span> <span class="title">]</span></span><br></pre></td></tr></table></figure>]]>
    
    </summary>
    
      <category term="tar" scheme="http://tiandechi.com/tags/tar/"/>
    
      <category term="Linux" scheme="http://tiandechi.com/categories/Linux/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[vim set configure]]></title>
    <link href="http://tiandechi.com/2015/04/18/vim-set-configure/"/>
    <id>http://tiandechi.com/2015/04/18/vim-set-configure/</id>
    <published>2015-04-18T12:53:00.000Z</published>
    <updated>2015-04-18T16:12:52.690Z</updated>
    <content type="html"><![CDATA[<p>本单元可说是 Vim 的微调功能，可依您个人的喜好做有限度的调整。由于 Vim 做了相当多的扩充，文内主要是述叙 Vim 的设定，但 elvis 没有的也会标明。但并不打算一网打尽，只说明重要、常用的部份，其它的可以用<br><figure class="highlight sml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:h <span class="built_in">option</span>-<span class="built_in">list</span></span><br></pre></td></tr></table></figure></p>
<p>查阅。<br>在系统上，会有个<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vimrc_example.<span class="keyword">vim</span></span><br></pre></td></tr></table></figure></p>
<p>檔，可以依据这个档案来设定一些常要用到的内容。</p>
<h1 id="该在何处设定呢？">该在何处设定呢？</h1><h2 id="Vim_的设定檔">Vim 的设定檔</h2><p>可在在线做设定，例如<br><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">:<span class="keyword">set</span> ai </span><br><span class="line"><span class="preprocessor">#或 </span></span><br><span class="line">:<span class="keyword">set</span> noai</span><br></pre></td></tr></table></figure></p>
<p>ai 是 autoindent 的缩写，这样就可以马上改变缩格的设定，但离开 vim 后就又恢复原状。要永久设定就得设在设定檔中。 vim 的设定檔在：</p>
<pre><code>~/<span class="class">.exrc</span>
~/<span class="class">.vimrc</span>
~/<span class="class">.gvimrc</span>    <span class="id">#GUI</span> 版本
<span class="variable">$VIM</span>/vimrc   #系统默认值，最好不去修改
<span class="variable">$VIM</span>/gvimrc  <span class="id">#GUI</span> 版本
<span class="variable">$VIM</span>\_vimrc  <span class="id">#Windows</span> 版本
<span class="variable">$VIM</span>\_gvimrc
</code></pre><p>您要把 GUI 的设定设在 home/.vimrc也是可以的，但分开来可能对以后要修改时会比较找得到地方改。<br>那 vim 在哪里呢？/usr/share/vim 或 /usr/local/share/vim 这是编译时就决定的，但可在 home/.bashprofie 或 home/.bashrc 中另设。Windows 版本的 $VIM 则在 C:\Vim 这个目录中，亦可设在 autoexec.bat 中。<br><a id="more"></a></p>
<h2 id="elvis_的设定檔">elvis 的设定檔</h2><pre><code>~/<span class="class">.exrc</span>
~/.elvislib/elvis<span class="class">.rc</span>
C:\Program Files\elvis\elvis<span class="class">.rc</span> Windows 版本
</code></pre><p>如果您的系统上同时有 Vim 及 elvis，则使用 HOME/.exrc要小心，以免互相影响了设定。好处是可以把共同的设定设在 home/.exrc 里。<br><strong>提醒您一下！设在设定檔中时 set 前当然是不必冒号的。</strong></p>
<h2 id="nvi-m17n_的设定檔">nvi-m17n 的设定檔</h2><pre><code>~/<span class="class">.exrc</span>
~/.nexrc
</code></pre><h1 id="如何得知目前的设定">如何得知目前的设定</h1><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">:set</span> 或 <span class="symbol">:se</span> <span class="comment">#会显示所有经过修改的部份，就是和默认值不一样的部份。</span></span><br><span class="line"><span class="symbol">:set</span> all <span class="comment">#显示目前所有设定值内容。</span></span><br><span class="line"><span class="symbol">:scriptnames</span> <span class="comment">#显示各种设定文件的所在路径及其文件名。</span></span><br><span class="line"><span class="symbol">:set</span> option? <span class="comment">#显示 option 这设定的目前值。</span></span><br><span class="line"><span class="symbol">:option</span> <span class="comment">#直接在线设定，有些设定需加 = 后加上设定值内容。</span></span><br><span class="line"><span class="symbol">:set</span> nooption 取消该设定。</span><br><span class="line"><span class="comment">#:set 后面是可以多重设定的。例如</span></span><br><span class="line"><span class="symbol">:set</span> autoindent noconfirm autowrite，这样三种设定就会同时重设。</span><br></pre></td></tr></table></figure>
<p>您当然可以改设定檔来改变设定值。在 Vim 也可以使用<br><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">:option</span></span><br></pre></td></tr></table></figure></p>
<p>来直接在线设定，会列出目前的设定，在 set 这个字上按 Enter 即可改变设定，或就直接修改其值亦可，改完后按<br><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">:q</span></span><br></pre></td></tr></table></figure></p>
<p>就可以了。在简短说明处按Enter 则会叫出该部份的说明檔给您参考，您说方不方便？改好后<br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">:mkexrc</span>    <span class="comment">#则会写入 ~/.exrc 檔</span></span><br><span class="line"><span class="symbol">:mkvimrc</span>   <span class="comment">#则会写入 ~/.vimrc 檔</span></span><br></pre></td></tr></table></figure></p>
<p>当然您得先搞清楚您目前所在目录在什么地方，如果您是在家目录启动的那就不用担心了，否则找不到您的新.vimrc 可不要写信来骂我。:-)<br>elvis 可就没这么方便了，得自行修改 home/.exrc 或 home/.elvislib/elvis.rc。</p>
<h1 id="各种_set_功能说明">各种 set 功能说明</h1><p>方括号内的是缩写，由于 Vim 新增的指令、设定项实在是相当多，建议一开始使用完整的写法，等熟悉后再来使用缩写会比较好。</p>
<h2 id="autoindent[ai]">autoindent[ai]</h2><p>自动缩排，也就是说如果本行是从第五个字符开始写的，您按 Enter 后游标就会停在次行第五个字符处。预设是不打开的。</p>
<h2 id="autowrite[aw]">autowrite[aw]</h2><p>档案一有更动就会自动存盘。预设不打开。</p>
<h2 id="background[bg]_（Vim_才有）">background[bg] （Vim 才有）</h2><p>可设成 dark 或 light，这是两种不同的 highlight 颜色设定，系统预设的内容是在一个 synload.vim 檔中，详见 VIMRUNTIME/syntax/synload.vim。不过您要更动颜色的设定，最好是设在HOME/.vimrc 或 HOME/.gvimrc中，原始檔预设檔尽量不要去动她。ㄟㄟㄟ，你从没提过VIMRUNTIME 好不好！其实这是最近版本的 Vim 为了不至安装新版本时把旧版本的一些设定或 macro 檔干掉，所以 VIMRUNTIME就是VIM/vimxx，xx 就是版本号码啦！例如您使用的是 Vim 6.1 版，那么就是 VIM/vim61，往后安装6.2版时，会把runtimefiles装在VIM/vim62，这样就不会把旧的 runtime files 给盖掉。</p>
<h2 id="backup[bk]">backup[bk]</h2><p>是否要 backup file。预设不打开。</p>
<h2 id="writebackup[wb]_（Vim_才有）">writebackup[wb] （Vim 才有）</h2><p>在写入档案前先备份一份，和 backup 的作用不尽相同，请 :h backup-table。预设是打开的，所以您如果不要 backup，那要关掉的是这个项目，而不是 backup。但请先检查一下您编译时是不是有编译进去，请 :ver。</p>
<h2 id="backupdir[bdir]_（Vim_才有）">backupdir[bdir] （Vim 才有）</h2><p>设定存放 backup file 的目录。预设在所编辑的档案之所在目录。</p>
<h2 id="binary[bin]_（Vim_才有）">binary[bin] （Vim 才有）</h2><p>设在编辑二进制文件状态，这是防止存二进制文件时把 EOL 也写进二进制文件，那就会悔不当初，如果是图檔将会无法再观看，如果是可执行档就无法执行了！因此预设是 off。elvis 会自动判断是否为二进制文件，而且会分成左右两半，左半部会以 16 进位的方式显示，右半部则是以 ASCII 的方式来显示。</p>
<h2 id="browsedir[bsdir]_（Vim_才有）">browsedir[bsdir] （Vim 才有）</h2><p>浏览档案的目录，GUI 版本始有。预设是上一次浏览的目录。就是 GUI 版本菜单上的 [File] 234 [Open] 会打开的目录。</p>
<h2 id="cindent[cin]_（Vim_才有）">cindent[cin] （Vim 才有）</h2><p>写 C 时很好用，indent 比一般敏感，专为 C 程序代码而设。预设 off。编辑 C/C++ code 时会自动打开。</p>
<h2 id="cmdheight[ch]_（Vim_才有）">cmdheight[ch] （Vim 才有）</h2><p>状态列的行数，预设一行，建议设成两行。</p>
<h2 id="compatible[cp]_（Vim_才有）">compatible[cp] （Vim 才有）</h2><p>设为和原始 vi 兼容的状态，vim 的扩充功能会被抑制。预设 off。</p>
<h2 id="confirm[cf]_（Vim_才有）">confirm[cf] （Vim 才有）</h2><p>各种确认动作。预设 off。</p>
<h2 id="directory[dir]">directory[dir]</h2><p>swap 文件存放的目录。前面单元已有说明。</p>
<h2 id="fileformat[ff]_（Vim_才有）">fileformat[ff] （Vim 才有）</h2><p>这是写入档案时置放 EOL(end of line) 的形式</p>
<pre><code>dos 是以 <span class="number">0x0D0A</span> 来断行。
unix 是以 <span class="number">0x0A</span> 来断行。
mac 是以 <span class="number">0x0D</span> 来断行。
</code></pre><p>预设以各系统平台而定，在 Linux 当然是 unix 形式。</p>
<h2 id="fileformats[ffs]_（Vim_才有）">fileformats[ffs] （Vim 才有）</h2><p>可指定多个，会依加载的档案形式来调整 ff。<br>例如<br><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:set <span class="variable">ffs=</span>unix,dos <span class="variable">ff=</span>unix</span><br></pre></td></tr></table></figure></p>
<p>则预设为 unix 格式，但如读入的是 dos 格式的档案，会自动调整为 dos 格式，这样存盘时就会以 dos 格式存盘（状态列会显示）。。此时如要改成 unix 格式，可 :set ff=unix 然后存盘就会转成 unix 格式，反之亦然。<br>如果不这样设，也就是您不管 ff 或 ffs 都设成 unix，那读入 dos 格式的档案时在每行尾会出现 ^M 这个字符（就是 0x0D 啦！）这时纵使<br><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:<span class="keyword">set</span> ff=unix</span><br></pre></td></tr></table></figure></p>
<p>也来不及了！只好<br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">:%s/^M//g</span></span><br></pre></td></tr></table></figure></p>
<p>来消去这个 ^M。<br>ㄟ，还记得怎么替换吗？就是把 ^M 换成没有啦！而且 ^M 怎么打出来的还记得吧！翻一翻前面的单元吧！<br>Hey，你怎么知道是 0x0D 呀！好吧！告诉您一个密秘，您把游标移到 ^M 那个位置，然后按 ga 在状态列就会显示 10，16，8 进位的值。其它的字符也是可以如此显示。a 就是 ascii 的意思。但这是 Vim 的扩充功能，elvis 没有。elvis 纵使加载 dos 格式的档案，也是会自动把 ^M 隐藏起来。</p>
<h2 id="ignorecase[ic]">ignorecase[ic]</h2><p>寻找时不分大小写，这对中文会造成困扰。预设 off。</p>
<h2 id="incsearch[is]_（Vim_才有）">incsearch[is] （Vim 才有）</h2><p>加强式寻找功能，在键入 patern 时会立即反应移动至目前键入之 patern 上。预设 off。</p>
<h2 id="hlsearch[hls]_（Vim_才有）">hlsearch[hls] （Vim 才有）</h2><p>寻找时，符合字符串会反白表示。预设 off。如果您是使用 vim 的预设的vimrc 檔的话，可设在 F8 键来切换。</p>
<h2 id="textwidth[tw]">textwidth[tw]</h2><p>是一种 word wrap 的功能，从左起算之固定每行的最大字符宽度。超过此宽度就会自动折行，这可是真的折行，也就是说在折行处会插入 EOL。预设是 0，也就是没有 word wrap 的功能。</p>
<h2 id="wrapmargin[wm]">wrapmargin[wm]</h2><p>和 textwidth 作用相同，只是是从右窗口边向左算起要几个字符起折行。<br>预设是 0。</p>
<h2 id="wrap">wrap</h2><p>这也是折行功能，可是只是屏幕效果的折行，实际上并没有插入 EOL。</p>
<h2 id="wrapscan[ws]">wrapscan[ws]</h2><p>这和折行没有关系，是指寻找时，找至檔尾时，是否要从檔首继续找。预设是要。</p>
<h2 id="paste_（Vim_才有）">paste （Vim 才有）</h2><p>这是防止在做剪贴时位置会不正确，前面单元已有说明。</p>
<h2 id="ruler[ru]_（Vim_才有）">ruler[ru] （Vim 才有）</h2><p>会在状态列显示游标所在处之行列状态，预设不打开，但建议打开。最右边之代号的意义如下：</p>
<pre><code><span class="keyword">Top</span> 档案第一行在屏幕可见范围。
Bot 档案最后一行在屏幕可见范围。
<span class="keyword">All</span> 档案首尾皆在一个屏幕范围内。
如非以上三种情形，则会显示相对百分比位置。
</code></pre><h2 id="statusline[stl]_（Vim_才有）">statusline[stl] （Vim 才有）</h2><p>状态列显示的格式，使用预设就可以了，如果您想骚包一下的话，那就请您<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="pseudo">:h</span> <span class="tag">stl</span></span><br></pre></td></tr></table></figure></p>
<h2 id="shiftwidth[sw]">shiftwidth[sw]</h2><p>指由 &gt; 移动整行内容时，一次移动的字符宽度，一般是使用 Tab 的值，但可由这个设定来改变。<br>这个是用于程序中自动缩进所使用的空白长度指示的。一般来说为了保持程序的美观，和tabstop、softtabstop的参数最好一致。同时它也是符号移位长度的制定者。</p>
<h3 id="关于expandtab"><a href="http://blog.csdn.net/ludonghai715/article/details/5657712" target="_blank" rel="external">关于expandtab</a></h3><p>举个例子，在多人一起开发项目时，为了使代码风格尽量保持一致，一般不允许在代码使用TAB符，而以4个空格代之。我们可以编辑一个文件，包含下面的内容：<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> <span class="built_in">shiftwidth</span>=<span class="number">4</span></span><br><span class="line"><span class="keyword">set</span> expandtab</span><br></pre></td></tr></table></figure></p>
<p>然后把下面的命令加入到.vimrc中：<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">autocmd</span> FileType <span class="keyword">c</span>,cpp <span class="keyword">set</span> <span class="built_in">shiftwidth</span>=<span class="number">4</span> | <span class="keyword">set</span> expandtab</span><br></pre></td></tr></table></figure></p>
<p>就可以只在编辑c和cpp文件时实行这种设置了</p>
<h2 id="tabstop[ts]">tabstop[ts]</h2><p>一个 Tab 键宽度。预设是 8 个字符宽度。最好不要随便改，以免您写的东西由其它编辑器来阅读时造成困扰，为解决这个问题，Vim 另有种 softtabstop 及 modeline 的机制，在以下各节会详细说明。</p>
<h2 id="showcmd[sc]">showcmd[sc]</h2><p>在状态列显示目前所执行的指令，未完成的指令片段亦会显示出来。</p>
<h2 id="showmode[smd]">showmode[smd]</h2><p>在状态列显示目前的模式，例如是 Insert mode 或是 Visual mode。当然平常的 normal mode(commond mode)是不显示的。在载入档案的同时，会在这个地方显示文件名称及其总行数、总字符数。</p>
<h2 id="visualbell[vb]_（Vim_才有）">visualbell[vb] （Vim 才有）</h2><p>以屏幕闪动代替 beep 声。</p>
<h2 id="number[nu]">number[nu]</h2><p>显示行号。注意，冒号命令也有<br><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">:nu</span></span><br></pre></td></tr></table></figure></p>
<p>这是显示光标所在行的行号，您嫌多打一个字的话：<br><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:<span class="preprocessor">#</span></span><br></pre></td></tr></table></figure></p>
<p>也行。不过如果 ruler 打开的话，在状态列本就会显示门前游标所在处的行列值。</p>
<h2 id="list">list</h2><p>这也可以算是一种模式，list mode。就是 Tab 的地方会以 ^I 显示，而行尾之 EOL 会显示成 $。可以让您清楚的知道 Tab 在哪里，折行是不是真的。</p>
<h2 id="swapfile[swf]_（Vim_才有）">swapfile[swf] （Vim 才有）</h2><p>是否需 swap 至磁盘。如果设为 noswf 的话，那将不会有 swapfile 产生，通通会加载在内存中。预设是要 swapfile。</p>
<h2 id="fileencoding[fe]_（Vim_才有）">fileencoding[fe] （Vim 才有）</h2><p>首先，先鼓掌一下，啪啪啪……，因为有支持 Taiwan，也支持 XIM，也就是说可以使用 xcin-2.5x 来作输入，当然您用 xcin-2.3x 配合 XA 也是可以啦！但前提是您要把 multi_byte 编译进去，这在一开始就讲过了。预设是使用 ansi。<br><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> guifont </span><br><span class="line"><span class="preprocessor">#及 </span></span><br><span class="line"><span class="keyword">set</span> guifontset</span><br></pre></td></tr></table></figure></p>
<p>已在一开始讲过，在此就不重复了。</p>
<h2 id="history[hi]">history[hi]</h2><p>记录冒号命令的历史纪录文件，就是可以用上下方向键叫出来的那锅。预设是 20 笔。</p>
<h1 id="关于_softtabstop[sts]">关于 softtabstop[sts]</h1><p>几乎所有的 OS 及软件都设定 Tab 就是 8 个字符长，这已经是个公认值，您硬要去改变它的话恐怕带来许多不便，但实际上关于程序风格，许多人又认为 8 个字符太长了，几个巢状循环下来就需折行，反而不方便。因此 Vim 体贴您，内建了 softtabstop 的功能，就是由 Vim 来代您制造出一个假的 Tab，实际上是空格符组成的 Tab。<br>举个例子来说明比较清楚。<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> softtabstop=<span class="number">4</span></span><br><span class="line"><span class="keyword">set</span> <span class="built_in">shiftwidth</span>=<span class="number">4</span></span><br></pre></td></tr></table></figure></p>
<p>这样会由 4 个空格符取代一个 Tab，您按 Tab 键 vim 就跳 4 格，需注意的是，如果您按了三次 Tab键，那就是一个实际的 Tab 加上四个空格符，可不是 12 个空格符喔！是混合 Tab 及 Space 的。<br>问题来了！那我要按真正的 8 字符的 Tab 时怎么办？简单，还记得怎么按特殊字符吗？Ctrl+v Tab 或Ctrl+v I 就可以了，那就是如假包换的 8 字符长之 Tab。当然，您按两次 Tab 不就得了！:-)<br>另一个更大的问题也来了！在 Un*x 系统的有些设定文件，例如 Makefile, sendmail 的设定檔，他们会认真正的 Tab，因此如果您有程序开发或系统管理的需要的话，最好是不要随意更动 Tab 值，也不要使用 softtabstop，可以使用 Vim 独特的 modeline 来控制，请继续研读下一节。</p>
<h1 id="Vim_的_modeline">Vim 的 modeline</h1><p>这个是什么哇？简单的说，Vim 有能力去解读所编辑档案内的 Vim 控制参数，而这些控制参数是写在档案的批注行里头的，例如 sh script 的批注行是以 # 来开头的，那 Vim 的控制参数就可以写在这些批注里头，Vim 在开这个档的同时，也会去控制自己的一些行为，当然，包括了上一节所说的 Tab 的长短，而 shell 本身则会忽略这些批注。<br>例如，现在把一个 sh script 檔里头，在档案最后一行，设了个：<br><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor"># vim: ts=2</span></span><br></pre></td></tr></table></figure></p>
<p>这样一来，按个 Tab，实际上显示出来会只有两个空格，别担心仍然是正港 Tab ，不相信的话，可用另一种编辑器打开就知道了。这个好用吧！详细请进入 vim 后 :h modeline。<br>当然，这个功能很方便，但并不是全然没有限制的，以下有些限制要注意:</p>
<ol>
<li><p>控制 modeline 本身的设定，不能写在档案里头，vim 会来不及读他。<br>例如：在 sh script 档案中设定</p>
<figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor"># vim: set modelines=0</span></span><br></pre></td></tr></table></figure>
<p>这是行不通的。</p>
</li>
<li>这些设定必须要在档案的开头五行，或结尾五行内设定，否则 vim 会忽略。</li>
<li>批注符号后要至少一个空白(sapce 或 Tab 皆可)隔开。例如：<br>=&gt; C 程序代码 /* 和 vim 间至少要有个空白<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// vim:ts=2 =&gt; C++</span></span><br><span class="line"><span class="preprocessor"># vim:ts=2 =&gt; sh script, perl, python, tcl</span></span><br><span class="line"><span class="string">" vim:ts=2 =&gt; vim script</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="关于折行">关于折行</h1><p>前面已说过 set wrap 就可以造成屏幕折行，可是却会把一个英文单字折成两半，实在很不雅观。好了，Vim再体贴您一次:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:set <span class="function"><span class="title">linebreak</span><span class="params">(lbr)</span></span></span><br></pre></td></tr></table></figure></p>
<p>就会避免这种问题发生，会在空白或标点符号的地方来折行，但也仍属屏幕折行，并不会插入 EOL。<br>在一般的文书排版处理，甚至是写程序代码，设定系统的设定文件，这些时机，可能自动折行并不很适合(指会插入 EOL 的)，很容易把写好的内容，因为一个不小心就都弄乱了，因为程序一般是一行一行在读的，把一整行分成两半，所读的结果就不一样了，除非加入程序代码的折行标志，例如一般的倒斜线 \ 或 TeX/LaTeX 的百分号 %。而在排版软件如 TeX/LaTeX，插入 EOL 的折行，会造成中文字间多出个空白，这在 HTML 格式的档案亦同，因此，在做折行的决定时，也请考虑一下其它的『副作用』。</p>
<h1 id="我的设定檔">我的设定檔</h1><p>以下是我个人的设定檔，仅供参考用：</p>
<h2 id="-vimrc_范例">.vimrc 范例</h2><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">" ~/.vimrc <span class="keyword">by</span> Edward <span class="keyword">G</span>.J. Lee</span><br><span class="line">" 这个记号就是 vim 的批注，通常情形 vim 会忽略。</span><br><span class="line">" This code is Public Domain</span><br><span class="line">"</span><br><span class="line"><span class="keyword">set</span> backspace=indent,eol,start</span><br><span class="line"></span><br><span class="line"><span class="keyword">set</span> autoindent " always <span class="keyword">set</span> autoindenting <span class="keyword">on</span></span><br><span class="line"><span class="keyword">set</span> history=50 " <span class="keyword">keep</span> 50 lines of command <span class="keyword">line</span> history</span><br><span class="line"><span class="keyword">set</span> ruler " show the cursor position all the time</span><br><span class="line"><span class="keyword">set</span> showcmd " <span class="keyword">display</span> incomplete commands</span><br><span class="line"></span><br><span class="line"><span class="keyword">set</span> <span class="keyword">enc</span>=big5 " 档案编码设成 big5</span><br><span class="line"></span><br><span class="line">"使用 :<span class="keyword">update</span> 代替 :w，以便在有修改时才会存盘，注意，这和 vi 不兼容。</span><br><span class="line">map &lt;F2&gt; :up&lt;CR&gt;</span><br><span class="line">map &lt;F3&gt; :up&lt;CR&gt;:q&lt;CR&gt; " 存档后离开</span><br><span class="line">map &lt;F4&gt; :q!&lt;CR&gt; " 不存档离开</span><br><span class="line">map &lt;F5&gt; :bp&lt;CR&gt; " 前一个 buffer 档案</span><br><span class="line">map &lt;F6&gt; :bn&lt;CR&gt; " 下一个 buffer 档案</span><br><span class="line">" 单键 &lt;F7&gt; 控制 <span class="keyword">syntax</span> <span class="keyword">on</span>/off。倒斜线是 Vim script 的折行标志</span><br><span class="line">" 按一次 &lt;F7&gt; 是 <span class="keyword">on</span> 的话，再按一次则是 off，再按一次又是 <span class="keyword">on</span>。</span><br><span class="line">" 原因是有时候颜色太多会妨碍阅读。</span><br><span class="line">map &lt;F7&gt; :<span class="keyword">if</span> exists(<span class="string">"syntax_on"</span>) &lt;BAR&gt;</span><br><span class="line">\ <span class="keyword">syntax</span> off &lt;BAR&gt;&lt;CR&gt;</span><br><span class="line">\ <span class="keyword">else</span> &lt;BAR&gt;</span><br><span class="line">\ <span class="keyword">syntax</span> enable &lt;BAR&gt;</span><br><span class="line">\ endif &lt;CR&gt;</span><br><span class="line">" 按 F8 会在 searching highlight 及非 highlight 间切换</span><br><span class="line">map &lt;F8&gt; :<span class="keyword">set</span> hls!&lt;BAR&gt;<span class="keyword">set</span> hls?&lt;CR&gt;</span><br><span class="line">" Toggle <span class="keyword">on</span>/off paste mode</span><br><span class="line">map &lt;F9&gt; :<span class="keyword">set</span> paste!&lt;BAr&gt;<span class="keyword">set</span> paste?&lt;CR&gt;</span><br><span class="line"><span class="keyword">set</span> pastetoggle=&lt;F9&gt;</span><br><span class="line"></span><br><span class="line">map &lt;F10&gt; &lt;ESC&gt;:<span class="keyword">read</span> !date&lt;CR&gt; " 插入日期</span><br><span class="line">map &lt;F11&gt; :%!xxd&lt;CR&gt; " 呼叫 xxd 做 16 进位显示</span><br><span class="line">map &lt;F12&gt; :%!xxd -r&lt;CR&gt; " 回复正常显示</span><br><span class="line"></span><br><span class="line">"Default backspace like <span class="literal">normal</span></span><br><span class="line"><span class="keyword">set</span> <span class="keyword">bs</span>=2</span><br><span class="line"></span><br><span class="line">"<span class="keyword">Display</span> a status-bar.</span><br><span class="line">"<span class="keyword">set</span> laststatus=2</span><br><span class="line"></span><br><span class="line">"Show matching parenthese.</span><br><span class="line"><span class="keyword">set</span> showmatch</span><br><span class="line"></span><br><span class="line">" 以下是颜色设定，详细请 :<span class="keyword">h</span> hi</span><br><span class="line">hi Comment term=bold ctermfg=darkcyan</span><br><span class="line">hi Constant term=underline ctermfg=Red</span><br><span class="line">hi Special term=bold ctermfg=Magenta</span><br><span class="line">hi Identifier term=underline ctermfg=cyan</span><br><span class="line">hi Statement term=bold ctermfg=Brown</span><br><span class="line">hi PreProc term=bold ctermfg=DarkYellow</span><br><span class="line">hi <span class="keyword">Type</span> term=bold ctermfg=DarkGreen</span><br><span class="line">hi Ignore ctermfg=white</span><br><span class="line">hi <span class="keyword">Error</span> term=reverse ctermbg=Red ctermfg=White</span><br><span class="line">hi Todo term=standout ctermbg=Yellow ctermfg=Red</span><br><span class="line">hi <span class="keyword">Search</span> term=standout ctermbg=Yellow ctermfg=Black</span><br><span class="line">hi ErrorMsg term=reverse ctermbg=Red ctermfg=White</span><br><span class="line">hi StatusLine ctermfg=darkblue ctermbg=gray</span><br><span class="line">hi StatusLineNC ctermfg=brown ctermbg=darkblue</span><br><span class="line"></span><br><span class="line"><span class="keyword">set</span> viminfo='20,\<span class="string">"50 "</span> <span class="keyword">read</span>/write a .viminfo <span class="keyword">file</span>, don't store <span class="keyword">more</span></span><br><span class="line">" than 50 lines of registers</span><br><span class="line"></span><br><span class="line">" 方便中文重排设定</span><br><span class="line"><span class="keyword">set</span> formatoptions=mtcql</span><br><span class="line"> </span><br><span class="line">" 设定 modeline</span><br><span class="line">" vim: ts=2:</span><br></pre></td></tr></table></figure>
<h2 id="-gvimrc_范例">.gvimrc 范例</h2><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">" ~/.gvimrc by Edward G.J. Lee</span><br><span class="line"></span><span class="string">" This code is Public Domain</span><br><span class="line"></span><span class="string">"</span><br><span class="line"></span><span class="keyword">set</span> mousehide <span class="string">" 当输入文字时隐藏 mouse</span><br><span class="line"></span><span class="built_in">map</span> &lt;S-Insert&gt; &lt;MiddleMouse&gt;</span><br><span class="line">map! &lt;S-Insert&gt; &lt;MiddleMouse&gt;</span><br><span class="line"></span><br><span class="line"><span class="string">" Only do this for Vim version 5.0 and later.</span><br><span class="line"></span><span class="keyword">if</span> <span class="keyword">version</span> &gt;= <span class="number">500</span></span><br><span class="line"><span class="keyword">let</span> c_comment_strings=<span class="number">1</span></span><br><span class="line"><span class="keyword">if</span> !exists(<span class="string">"syntax_on"</span>)</span><br><span class="line"><span class="keyword">syntax</span> <span class="keyword">on</span></span><br><span class="line"><span class="keyword">endif</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">hi</span> Comment guifg=DarkBlue</span><br><span class="line"><span class="keyword">hi</span> Constant <span class="keyword">gui</span>=bold guifg=Magenta guibg=#fffff5f2eed8</span><br><span class="line"><span class="keyword">hi</span> Special guifg=Blue guibg=#fffff5f2eed8</span><br><span class="line"><span class="keyword">hi</span> Identifier <span class="keyword">gui</span>=bold guifg=DarkCyan</span><br><span class="line"><span class="keyword">hi</span> Statement <span class="keyword">gui</span>=bold guifg=brown</span><br><span class="line"><span class="keyword">hi</span> PreProc <span class="keyword">gui</span>=bold guifg=black</span><br><span class="line"><span class="keyword">hi</span> Type guifg=darkgreen</span><br><span class="line"><span class="keyword">hi</span> Ignore guifg=bg</span><br><span class="line"><span class="keyword">hi</span> Error guibg=Red <span class="keyword">gui</span>=bold guifg=White</span><br><span class="line"><span class="keyword">hi</span> Todo guifg=Blue guibg=Yellow</span><br><span class="line"><span class="keyword">hi</span> ErrorMsg guibg=Red <span class="keyword">gui</span>=bold guifg=White</span><br><span class="line"><span class="keyword">hi</span> Normal guibg=#fffff5f2eed8</span><br><span class="line"><span class="keyword">hi</span> ModeMsg guifg=DarkBlue guibg=yellow</span><br><span class="line"><span class="keyword">hi</span> StatusLine <span class="keyword">gui</span>=bold guifg=lightgray guibg=DarkBlue</span><br><span class="line"><span class="keyword">hi</span> StatusLineNC <span class="keyword">gui</span>=bold guifg=lightgray guibg=brown</span><br><span class="line"><span class="keyword">hi</span> Cursor guibg=green guifg=NONE</span><br><span class="line"><span class="keyword">hi</span> lCursor guibg=Cyan guifg=NONE</span><br><span class="line"></span><br><span class="line"><span class="keyword">endif</span></span><br><span class="line"></span><br><span class="line"><span class="string">" 让 ex(:) mode 时可以输入中文(gvim)</span><br><span class="line"></span><span class="keyword">set</span> imcmdline</span><br><span class="line"><span class="string">" 让 xcin 在 insert mode 不自动出现(gvim)</span><br><span class="line"></span><span class="keyword">set</span> imdisable</span><br></pre></td></tr></table></figure>
<h2 id="-vim_目录范例">.vim 目录范例</h2><p>其实，一些设定文件除了家目录下的 .vimrc 及 .gvimrc 外，可以置放于家目录下的一个子目录 .vim，其目录结构可以仿 $VIMRUNTIME 这个系统上的结构。例如，我的 .vim 结构如下:<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">edt1023:~$ tree .vim</span><br><span class="line">.vim</span><br><span class="line">|<span class="comment">-- filetype.vim</span></span><br><span class="line">|<span class="comment">-- plugin</span></span><br><span class="line">| |<span class="comment">-- format.vim</span></span><br><span class="line">| `<span class="comment">-- tex.vim</span></span><br><span class="line">|<span class="comment">-- syntax</span></span><br><span class="line">| |<span class="comment">-- lily.vim</span></span><br><span class="line">| `<span class="comment">-- svg.vim</span></span><br><span class="line">`<span class="comment">-- view</span></span><br><span class="line">`<span class="comment">-- ~=+bg5.txt=</span></span><br><span class="line"></span><br><span class="line"><span class="number">3</span> <span class="built_in">directories</span>, <span class="number">6</span> <span class="built_in">files</span></span><br></pre></td></tr></table></figure></p>
<p>其中，filetype.vim 会在系统的 filetype.vim 加载后盖过去，也就是家目录的会先优使用。format.vim 及tex.vim 是进入 vim 马上会加载的 Vim script，主要用于中文重排及 TeX/LaTeX 排版系统编辑时的方便指令、按键。lily.vim 则是 GNU LilyPond 这个乐谱排版系统档案的语法颜色定义文件，svg.vim 则是 SVG 向量图文件的语法颜色定文件加强版。那 view 那个子目录下的又是什么呢？这是下 :mkview 指令时所存的一些状态檔，在 :loadview 要参考到，请参考第 11 章，第 11.1.3 小节，页 ，这个檔是个隐藏檔。</p>
<p><a href="http://blog.sina.com.cn/s/blog_7ae240850100x7ov.html" target="_blank" rel="external">vim set 功能设定</a><br><a href="http://www.linuxidc.com/Linux/2012-08/69439.html" target="_blank" rel="external">大家来学 VIM (PDF)</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>本单元可说是 Vim 的微调功能，可依您个人的喜好做有限度的调整。由于 Vim 做了相当多的扩充，文内主要是述叙 Vim 的设定，但 elvis 没有的也会标明。但并不打算一网打尽，只说明重要、常用的部份，其它的可以用<br><figure class="highlight sml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:h <span class="built_in">option</span>-<span class="built_in">list</span></span><br></pre></td></tr></table></figure></p>
<p>查阅。<br>在系统上，会有个<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vimrc_example.<span class="keyword">vim</span></span><br></pre></td></tr></table></figure></p>
<p>檔，可以依据这个档案来设定一些常要用到的内容。</p>
<h1 id="该在何处设定呢？">该在何处设定呢？</h1><h2 id="Vim_的设定檔">Vim 的设定檔</h2><p>可在在线做设定，例如<br><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">:<span class="keyword">set</span> ai </span><br><span class="line"><span class="preprocessor">#或 </span></span><br><span class="line">:<span class="keyword">set</span> noai</span><br></pre></td></tr></table></figure></p>
<p>ai 是 autoindent 的缩写，这样就可以马上改变缩格的设定，但离开 vim 后就又恢复原状。要永久设定就得设在设定檔中。 vim 的设定檔在：</p>
<pre><code>~/<span class="class">.exrc</span>
~/<span class="class">.vimrc</span>
~/<span class="class">.gvimrc</span>    <span class="id">#GUI</span> 版本
<span class="variable">$VIM</span>/vimrc   #系统默认值，最好不去修改
<span class="variable">$VIM</span>/gvimrc  <span class="id">#GUI</span> 版本
<span class="variable">$VIM</span>\_vimrc  <span class="id">#Windows</span> 版本
<span class="variable">$VIM</span>\_gvimrc
</code></pre><p>您要把 GUI 的设定设在 home/.vimrc也是可以的，但分开来可能对以后要修改时会比较找得到地方改。<br>那 vim 在哪里呢？/usr/share/vim 或 /usr/local/share/vim 这是编译时就决定的，但可在 home/.bashprofie 或 home/.bashrc 中另设。Windows 版本的 $VIM 则在 C:\Vim 这个目录中，亦可设在 autoexec.bat 中。<br>]]>
    
    </summary>
    
      <category term="set" scheme="http://tiandechi.com/tags/set/"/>
    
      <category term="vim" scheme="http://tiandechi.com/tags/vim/"/>
    
      <category term="Linux" scheme="http://tiandechi.com/categories/Linux/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[cp命令用法]]></title>
    <link href="http://tiandechi.com/2015/03/30/cp%E5%91%BD%E4%BB%A4%E7%94%A8%E6%B3%95/"/>
    <id>http://tiandechi.com/2015/03/30/cp命令用法/</id>
    <published>2015-03-30T13:59:19.000Z</published>
    <updated>2015-04-18T12:45:23.805Z</updated>
    <content type="html"><![CDATA[<p>最近一直在玩linux，现在真是爱不释手啊，呵呵。今天来普及下CP(拷贝)命令。<br>可以使用cp --help来查看命令的使用帮助。<br>语法： cp [选项] 源文件或目录 目标文件或目录；<br>说明：该命令把指定的源文件复制到目标文件或把多个源文件复制到目标目录中。<br><a id="more"></a><br>各选项含义如下：<br><figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-<span class="ruby"> a 该选项通常在拷贝目录时使用。尽可能将档案状态、权限等资料都照原状予以复制。</span><br><span class="line"></span>-<span class="ruby"> d 拷贝时保留链接。</span><br><span class="line"></span>-<span class="ruby"> f 若目的地已经有相同档名的档案存在，则在复制前先予以删除再行复制而不提示。</span><br><span class="line"></span>-<span class="ruby"> i 和f选项相反，在覆盖目标文件之前将给出提示要求用户确认。回答y时目标文件将被覆盖，是交互式拷贝。</span><br><span class="line"></span>-<span class="ruby"> p 此时cp除复制源文件的内容外，还将把其修改时间和访问权限也复制到新文件中。</span><br><span class="line"></span>-<span class="ruby"> r 若给出的源文件是一目录文件，此时cp将递归复制该目录下所有的子目录和文件至目的地。此时目标文件必须为一个目录名。</span><br><span class="line"></span>-<span class="ruby"> l 不作拷贝，只是链接文件。</span></span><br></pre></td></tr></table></figure></p>
<p>为防止用户在不经意的情况下用cp命令破坏另一个文件，如用户指定的目标文件名已存在，用cp命令拷贝文件后，这个文件就会被新源文件覆盖。建议用户在使用cp命令拷贝文件时，最好使用i选项。</p>
<p>示例：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ cp - <span class="tag">i</span> test1<span class="class">.c</span> /usr/cpp/test2<span class="class">.c</span></span><br><span class="line">#该命令将文件test1.c拷贝到/usr/cpp 这个目录下，并改名为 test2.c。</span><br><span class="line"> </span><br><span class="line">#如果不希望重新命名，可以使用下面的命令：</span><br><span class="line">$ cp test1<span class="class">.c</span> /usr/cpp/</span><br><span class="line"> </span><br><span class="line">#将所有的log日志文件拷贝至 bak 子目录中 :</span><br><span class="line">$ cp  *<span class="class">.log</span> bak</span><br></pre></td></tr></table></figure></p>
<p><a href="http://www.oseye.net/user/kevin/blog/12" target="_blank" rel="external">via.黑桃K</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>最近一直在玩linux，现在真是爱不释手啊，呵呵。今天来普及下CP(拷贝)命令。<br>可以使用cp --help来查看命令的使用帮助。<br>语法： cp [选项] 源文件或目录 目标文件或目录；<br>说明：该命令把指定的源文件复制到目标文件或把多个源文件复制到目标目录中。<br>]]>
    
    </summary>
    
      <category term="commands" scheme="http://tiandechi.com/tags/commands/"/>
    
      <category term="cp" scheme="http://tiandechi.com/tags/cp/"/>
    
      <category term="Linux" scheme="http://tiandechi.com/categories/Linux/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[lspci查看硬件设备]]></title>
    <link href="http://tiandechi.com/2015/03/30/lspci%E6%9F%A5%E7%9C%8B%E7%A1%AC%E4%BB%B6%E8%AE%BE%E5%A4%87/"/>
    <id>http://tiandechi.com/2015/03/30/lspci查看硬件设备/</id>
    <published>2015-03-30T13:39:20.000Z</published>
    <updated>2015-04-18T19:35:40.000Z</updated>
    <content type="html"><![CDATA[<p>lspci 找到的是目前主机上面的硬件配备<br><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="property">@www</span> ~]<span class="comment"># lspci [-vvn]</span></span><br></pre></td></tr></table></figure></p>
<p>选项与参数:<br><figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-<span class="ruby">v     <span class="symbol">:</span>显示更多的 <span class="constant">PCI</span> 接口装置的详细信息</span><br><span class="line"></span>-<span class="ruby">vv <span class="symbol">:</span>比 -v 还要更详细的信息</span><br><span class="line"></span>-<span class="ruby">n     <span class="symbol">:</span>直接观察 <span class="constant">PCI</span> 的 <span class="constant">ID</span> 而不是厂商名称</span></span><br></pre></td></tr></table></figure></p>
<a id="more"></a>
<p>查阅您系统内的 PCI 装置:<br><figure class="highlight protobuf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# lspci</span><br><span class="line">#不必加上任何选项，就能够显示出目前的硬件配备为何</span><br><span class="line"><span class="constant">Host bridge:                        &lt;</span>==主板芯片</span><br><span class="line"><span class="constant">VGA compatible controller    &lt;</span>==显卡</span><br><span class="line"><span class="constant">Audio device                            &lt;</span>==音频设备</span><br><span class="line"><span class="constant">PCI bridge                                &lt;</span>==接口插槽</span><br><span class="line"><span class="constant">USB Controller                        &lt;</span>==USB控制器</span><br><span class="line"><span class="constant">ISA bridge                                </span><br><span class="line">IDE interface                            </span><br><span class="line">SMBus                                       </span><br><span class="line">Ethernet controller                &lt;</span>==网卡</span><br><span class="line"></span><br><span class="line"><span class="number">04</span>:<span class="number">00.0</span> Ethernet controller: Realtek Semiconductor Co., Ltd.</span><br></pre></td></tr></table></figure></p>
<p>查看一般详细信息:<br><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="property">@www</span> ~]<span class="comment"># lspci -v</span></span><br></pre></td></tr></table></figure></p>
<p>查看网卡详细信息:<br><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="property">@www</span> ~]<span class="comment"># lspci -s 04:00.0 -vv</span></span><br></pre></td></tr></table></figure></p>
<p>-s :后面接的是每个设备的总线、插槽与相关函数功能</p>
<p><a href="http://blog.csdn.net/joker0910/article/details/7755268" target="_blank" rel="external">via.joker0910的专栏</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>lspci 找到的是目前主机上面的硬件配备<br><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="property">@www</span> ~]<span class="comment"># lspci [-vvn]</span></span><br></pre></td></tr></table></figure></p>
<p>选项与参数:<br><figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-<span class="ruby">v     <span class="symbol">:</span>显示更多的 <span class="constant">PCI</span> 接口装置的详细信息</span><br><span class="line"></span>-<span class="ruby">vv <span class="symbol">:</span>比 -v 还要更详细的信息</span><br><span class="line"></span>-<span class="ruby">n     <span class="symbol">:</span>直接观察 <span class="constant">PCI</span> 的 <span class="constant">ID</span> 而不是厂商名称</span></span><br></pre></td></tr></table></figure></p>]]>
    
    </summary>
    
  </entry>
  
</feed>